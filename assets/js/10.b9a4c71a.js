(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{423:function(e,t,v){"use strict";v.r(t);var _=v(18),i=Object(_.a)({},(function(){var e=this,t=e.$createElement,v=e._self._c||t;return v("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[v("h1",{attrs:{id:"ä¸€æ–‡åƒé€reacté«˜é˜¶ç»„ä»¶hoc"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#ä¸€æ–‡åƒé€reacté«˜é˜¶ç»„ä»¶hoc"}},[e._v("#")]),e._v(" ä¸€æ–‡åƒé€Reacté«˜é˜¶ç»„ä»¶HOC")]),e._v(" "),v("blockquote",[v("p",[v("a",{attrs:{href:"https://mp.weixin.qq.com/s/W5pk2fuCHuRqPizwlnUnIQ",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://mp.weixin.qq.com/s/W5pk2fuCHuRqPizwlnUnIQ"),v("OutboundLink")],1)])]),e._v(" "),v("h1",{attrs:{id:"ä¸€-å‰è¨€"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#ä¸€-å‰è¨€"}},[e._v("#")]),e._v(" ä¸€ å‰è¨€")]),e._v(" "),v("p",[v("code",[e._v("React")]),e._v("é«˜é˜¶ç»„ä»¶("),v("code",[e._v("HOC")]),e._v(")ï¼Œå¯¹äºå¾ˆå¤š"),v("code",[e._v("react")]),e._v("å¼€å‘è€…æ¥è¯´å¹¶ä¸é™Œç”Ÿï¼Œå®ƒæ˜¯çµæ´»ä½¿ç”¨"),v("code",[e._v("react")]),e._v("ç»„ä»¶çš„ä¸€ç§æŠ€å·§ï¼Œé«˜é˜¶ç»„ä»¶æœ¬èº«ä¸æ˜¯ç»„ä»¶ï¼Œå®ƒæ˜¯ä¸€ä¸ªå‚æ•°ä¸ºç»„ä»¶ï¼Œè¿”å›å€¼ä¹Ÿæ˜¯ä¸€ä¸ªç»„ä»¶çš„å‡½æ•°ã€‚é«˜é˜¶ä½œç”¨ç”¨äº"),v("strong",[e._v("å¼ºåŒ–ç»„ä»¶ï¼Œå¤ç”¨é€»è¾‘ï¼Œæå‡æ¸²æŸ“æ€§èƒ½ç­‰")]),e._v("ä½œç”¨ã€‚é«˜é˜¶ç»„ä»¶ä¹Ÿå¹¶ä¸æ˜¯å¾ˆéš¾ç†è§£ï¼Œå…¶å®æ¥è§¦è¿‡åè¿˜æ˜¯è›®ç®€å•çš„ï¼Œæ¥ä¸‹æ¥æˆ‘å°†æŒ‰ç…§ï¼Œ"),v("strong",[e._v("é«˜é˜¶ç»„ä»¶ç†è§£ï¼Ÿ")]),e._v("ï¼Œ"),v("strong",[e._v("é«˜é˜¶ç»„ä»¶å…·ä½“æ€ä¹ˆä½¿ç”¨ï¼Ÿåº”ç”¨åœºæ™¯")]),e._v("ï¼Œ "),v("strong",[e._v("é«˜é˜¶ç»„ä»¶å®è·µ(æºç çº§åˆ«)")]),e._v(" ä¸ºçªç ´å£ï¼Œå¸¦å¤§å®¶è¯¦ç»†äº†è§£ä¸€ä¸‹é«˜é˜¶ç»„ä»¶ã€‚æœ¬æ–‡ç¯‡å¹…æ¯”è¾ƒé•¿ï¼Œå»ºè®®æ”¶è—è§‚çœ‹")]),e._v(" "),v("p",[e._v("æˆ‘ä»¬å¸¦ç€é—®é¢˜å»å¼€å§‹ä»Šå¤©çš„è®¨è®ºï¼š")]),e._v(" "),v("ul",[v("li",[e._v("1 ä»€ä¹ˆæ˜¯é«˜é˜¶ç»„ä»¶ï¼Œå®ƒè§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ")]),e._v(" "),v("li",[e._v("2 æœ‰å‡ ç§é«˜é˜¶ç»„ä»¶ï¼Œå®ƒä»¬ä¼˜ç¼ºç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ")]),e._v(" "),v("li",[e._v("3 å¦‚ä½•å†™ä¸€ä¸ªä¼˜ç§€é«˜é˜¶ç»„ä»¶ï¼Ÿ")]),e._v(" "),v("li",[e._v("4 "),v("code",[e._v("hoc")]),e._v("æ€ä¹ˆå¤„ç†é™æ€å±æ€§ï¼Œè·¨å±‚çº§"),v("code",[e._v("ref")]),e._v("ç­‰é—®é¢˜ï¼Ÿ")]),e._v(" "),v("li",[e._v("5 é«˜é˜¶ç»„ä»¶æ€ä¹ˆæ§åˆ¶æ¸²æŸ“ï¼Œéš”ç¦»æ¸²æŸ“ï¼Ÿ")]),e._v(" "),v("li",[e._v("6 é«˜é˜¶ç»„ä»¶æ€ä¹ˆç›‘æ§åŸå§‹ç»„ä»¶çš„çŠ¶æ€ï¼Ÿ")]),e._v(" "),v("li",[e._v("...")])]),e._v(" "),v("blockquote",[v("p",[e._v("é«˜é˜¶ç»„ä»¶ï¼ˆHOCï¼‰æ˜¯ React ä¸­ç”¨äºå¤ç”¨ç»„ä»¶é€»è¾‘çš„ä¸€ç§é«˜çº§æŠ€å·§ã€‚HOC è‡ªèº«ä¸æ˜¯ React API çš„ä¸€éƒ¨åˆ†ï¼Œå®ƒæ˜¯ä¸€ç§åŸºäº React çš„ç»„åˆç‰¹æ€§è€Œå½¢æˆçš„è®¾è®¡æ¨¡å¼ã€‚")])]),e._v(" "),v("p",[v("img",{attrs:{src:"https://mmbiz.qpic.cn/mmbiz_jpg/2KticQlBJtdwcFr2v6wCVYKr2wsh0KZRXvHqmbKib3PNgQiaxiaJ5dZYicz6nNNIzJR8beFsTUbDcvrh8hxSYMFGQXw/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1",alt:"å›¾ç‰‡"}})]),e._v(" "),v("h1",{attrs:{id:"äºŒ-å…¨æ–¹ä½çœ‹é«˜é˜¶ç»„ä»¶"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#äºŒ-å…¨æ–¹ä½çœ‹é«˜é˜¶ç»„ä»¶"}},[e._v("#")]),e._v(" äºŒ å…¨æ–¹ä½çœ‹é«˜é˜¶ç»„ä»¶")]),e._v(" "),v("h2",{attrs:{id:"_1-å‡ ç§åŒ…è£…å¼ºåŒ–ç»„ä»¶çš„æ–¹å¼"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_1-å‡ ç§åŒ…è£…å¼ºåŒ–ç»„ä»¶çš„æ–¹å¼"}},[e._v("#")]),e._v(" 1 å‡ ç§åŒ…è£…å¼ºåŒ–ç»„ä»¶çš„æ–¹å¼")]),e._v(" "),v("h3",{attrs:{id:"_1-mixinæ¨¡å¼"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_1-mixinæ¨¡å¼"}},[e._v("#")]),e._v(" â‘  mixinæ¨¡å¼")]),e._v(" "),v("p",[v("strong",[e._v("åŸå‹å›¾")])]),e._v(" "),v("p",[v("img",{attrs:{src:"https://mmbiz.qpic.cn/mmbiz_jpg/2KticQlBJtdwcFr2v6wCVYKr2wsh0KZRXFKuSNPhezUhs2TNsfnfIjmeqFfqQdM6zcOxANCuNEcBwAaR928UtsQ/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1",alt:"å›¾ç‰‡"}})]),e._v(" "),v("h4",{attrs:{id:"è€ç‰ˆæœ¬çš„react-mixins"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#è€ç‰ˆæœ¬çš„react-mixins"}},[e._v("#")]),e._v(" è€ç‰ˆæœ¬çš„"),v("code",[e._v("react-mixins")])]),e._v(" "),v("p",[e._v("åœ¨"),v("code",[e._v("react")]),e._v("åˆæœŸæä¾›ä¸€ç§ç»„åˆæ–¹æ³•ã€‚é€šè¿‡"),v("code",[e._v("React.createClass")]),e._v(",åŠ å…¥"),v("code",[e._v("mixins")]),e._v("å±æ€§ï¼Œå…·ä½“ç”¨æ³•å’Œ"),v("code",[e._v("vue")]),e._v(" ä¸­"),v("code",[e._v("mixins")]),e._v("ç›¸ä¼¼ã€‚å…·ä½“å®ç°å¦‚ä¸‹ã€‚")]),e._v(" "),v("ul",[v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li")]),e._v(" "),v("div",{staticClass:"language- extra-class"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[e._v("const customMixin = {  componentDidMount(){    console.log( '------componentDidMount------' )  },  say(){    console.log(this.state.name)  }}\nconst APP = React.createClass({  mixins: [ customMixin ],  getInitialState(){    return {      name:'alien'    }  },  render(){    const { name  } = this.state    return <div> hello ,world , my name is { name } </div>  }})\n")])])]),v("p",[e._v("è¿™ç§"),v("code",[e._v("mixins")]),e._v("åªèƒ½å­˜åœ¨"),v("code",[e._v("createClass")]),e._v("ä¸­ï¼Œåæ¥"),v("code",[e._v("React.createClass")]),e._v("è¿åŒ"),v("code",[e._v("mixins")]),e._v("è¿™ç§æ¨¡å¼è¢«åºŸå¼ƒäº†ã€‚"),v("code",[e._v("mixins")]),e._v("ä¼šå¸¦æ¥ä¸€äº›è´Ÿé¢çš„å½±å“ã€‚")]),e._v(" "),v("ul",[v("li",[e._v("1 mixinå¼•å…¥äº†éšå¼ä¾èµ–å…³ç³»ã€‚")]),e._v(" "),v("li",[e._v("2 ä¸åŒmixinsä¹‹é—´å¯èƒ½ä¼šæœ‰å…ˆåé¡ºåºç”šè‡³ä»£ç å†²çªè¦†ç›–çš„é—®é¢˜")]),e._v(" "),v("li",[e._v("3 mixinä»£ç ä¼šå¯¼è‡´æ»šé›ªçƒå¼çš„å¤æ‚æ€§")])]),e._v(" "),v("h4",{attrs:{id:"è¡ç”Ÿæ–¹å¼"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#è¡ç”Ÿæ–¹å¼"}},[e._v("#")]),e._v(" è¡ç”Ÿæ–¹å¼")]),e._v(" "),v("p",[v("code",[e._v("createClass")]),e._v("çš„åºŸå¼ƒï¼Œä¸ä»£è¡¨"),v("code",[e._v("mixin")]),e._v("æ¨¡å¼é€€å‡º"),v("code",[e._v("react")]),e._v("èˆå°ï¼Œåœ¨æœ‰çŠ¶æ€ç»„ä»¶"),v("code",[e._v("class")]),e._v("ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡"),v("strong",[e._v("åŸå‹é“¾ç»§æ‰¿")]),e._v("æ¥å®ç°"),v("code",[e._v("mixins")]),e._v("ã€‚")]),e._v(" "),v("ul",[v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li")]),e._v(" "),v("div",{staticClass:"language- extra-class"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[e._v("const customMixin = {  /* è‡ªå®šä¹‰ mixins */  componentDidMount(){    console.log( '------componentDidMount------' )  },  say(){    console.log(this.state.name)  }}\nfunction componentClassMixins(Component,mixin){ /* ç»§æ‰¿ */  for(let key in mixin){    Component.prototype[key] = mixin[key]  }}\nclass Index extends React.Component{  constructor(){    super()    this.state={  name:'alien' }  }  render(){    return <div> hello,world      <button onClick={ this.say.bind(this) } > to say </button>    </div>  }}componentClassMixins(Index,customMixin)\n")])])]),v("h3",{attrs:{id:"_2extendsç»§æ‰¿æ¨¡å¼"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_2extendsç»§æ‰¿æ¨¡å¼"}},[e._v("#")]),e._v(" â‘¡extendsç»§æ‰¿æ¨¡å¼")]),e._v(" "),v("p",[v("strong",[e._v("åŸå‹å›¾")])]),e._v(" "),v("p",[v("img",{attrs:{src:"https://mmbiz.qpic.cn/mmbiz_jpg/2KticQlBJtdwcFr2v6wCVYKr2wsh0KZRXy6wIa4Xf7Sdop92zIlibRNia5ufhqNanetpjPSb4Kx5uvaBThWNicwpjw/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1",alt:"å›¾ç‰‡"}})]),e._v(" "),v("p",[e._v("åœ¨"),v("code",[e._v("class")]),e._v("ç»„ä»¶ç››è¡Œä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç»§æ‰¿çš„æ–¹å¼è¿›ä¸€æ­¥çš„å¼ºåŒ–æˆ‘ä»¬çš„ç»„ä»¶ã€‚è¿™ç§æ¨¡å¼çš„å¥½å¤„åœ¨äºï¼Œå¯ä»¥å°è£…åŸºç¡€åŠŸèƒ½ç»„ä»¶ï¼Œç„¶åæ ¹æ®éœ€è¦å»"),v("code",[e._v("extends")]),e._v("æˆ‘ä»¬çš„åŸºç¡€ç»„ä»¶ï¼ŒæŒ‰éœ€å¼ºåŒ–ç»„ä»¶ï¼Œä½†æ˜¯å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå¿…é¡»è¦å¯¹åŸºç¡€ç»„ä»¶æœ‰è¶³å¤Ÿçš„æŒæ¡ï¼Œå¦åˆ™ä¼šé€ æˆä¸€äº›åˆ—æ„æƒ³ä¸åˆ°çš„æƒ…å†µå‘ç”Ÿã€‚")]),e._v(" "),v("ul",[v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li")]),e._v(" "),v("div",{staticClass:"language- extra-class"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[e._v("class Base extends React.Component{  constructor(){    super()    this.state={      name:'alien'    }  }  say(){    console.log('base components')  }  render(){    return <div> hello,world <button onClick={ this.say.bind(this) } >ç‚¹å‡»</button>  </div>  }}class Index extends Base{  componentDidMount(){    console.log( this.state.name )  }  say(){ /* ä¼šè¦†ç›–åŸºç±»ä¸­çš„ say  */    console.log('extends components')  }}export default Index\n")])])]),v("h3",{attrs:{id:"_3hocæ¨¡å¼"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_3hocæ¨¡å¼"}},[e._v("#")]),e._v(" â‘¢HOCæ¨¡å¼")]),e._v(" "),v("p",[v("strong",[e._v("åŸå‹å›¾")])]),e._v(" "),v("p",[v("img",{attrs:{src:"https://mmbiz.qpic.cn/mmbiz_jpg/2KticQlBJtdwcFr2v6wCVYKr2wsh0KZRXYs6OvOe4Jzm27Vl3bXG29H12prn2V3n5IicRuicMJJvUciagxmiamn5SPg/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1",alt:"å›¾ç‰‡"}})]),e._v(" "),v("p",[v("code",[e._v("HOC")]),e._v("æ˜¯æˆ‘ä»¬æœ¬ç« ä¸»è¦çš„è®²çš„å†…å®¹ï¼Œå…·ä½“ç”¨æ³•ï¼Œæˆ‘ä»¬æ¥ä¸‹æ¥ä¼šæ…¢æ…¢é“æ¥ï¼Œæˆ‘ä»¬å…ˆç®€å•å°è¯•ä¸€ä¸ª"),v("code",[e._v("HOC")]),e._v("ã€‚")]),e._v(" "),v("ul",[v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li")]),e._v(" "),v("div",{staticClass:"language- extra-class"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[e._v("function HOC(Component) {  return class wrapComponent extends React.Component{     constructor(){       super()       this.state={         name:'alien'       }     }     render=()=><Component { ...this.props } { ...this.state } />  }}\n@HOCclass Index extends React.Component{  say(){    const { name } = this.props    console.log(name)  }  render(){    return <div> hello,world <button onClick={ this.say.bind(this) } >ç‚¹å‡»</button>  </div>  }}\n")])])]),v("h3",{attrs:{id:"_4è‡ªå®šä¹‰hooksæ¨¡å¼"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_4è‡ªå®šä¹‰hooksæ¨¡å¼"}},[e._v("#")]),e._v(" â‘£è‡ªå®šä¹‰hooksæ¨¡å¼")]),e._v(" "),v("p",[v("strong",[e._v("åŸå‹å›¾")])]),e._v(" "),v("p",[v("img",{attrs:{src:"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==",alt:"å›¾ç‰‡"}})]),e._v(" "),v("p",[v("code",[e._v("hooks")]),e._v("çš„è¯ç”Ÿï¼Œä¸€å¤§éƒ¨åˆ†åŸå› æ˜¯è§£å†³"),v("strong",[e._v("æ— çŠ¶æ€ç»„ä»¶æ²¡æœ‰"),v("code",[e._v("state")]),e._v("**å’Œ**é€»è¾‘éš¾ä»¥å¤ç”¨")]),e._v("é—®é¢˜ã€‚"),v("code",[e._v("hooks")]),e._v("å¯ä»¥å°†ä¸€æ®µé€»è¾‘å°è£…èµ·æ¥ï¼Œåšåˆ°å¼€ç®±å³ç”¨ï¼Œæˆ‘è¿™é‡Œå°±ä¸å¤šè®²äº†ï¼Œæ¥ä¸‹æ¥ä¼šå‡º"),v("code",[e._v("react-hooks")]),e._v("åŸç†çš„æ–‡ç« ï¼Œå®Œæˆ"),v("code",[e._v("react-hooks")]),e._v("ä¸‰éƒ¨æ›²ã€‚æ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥çœ‹ç¬”è€…çš„å¦å¤–äºŒç¯‡æ–‡ç« ï¼Œé‡Œé¢è¯¦ç»†ä»‹ç»äº†"),v("code",[e._v("react-hooks")]),e._v("å¤ç”¨ä»£ç é€»è¾‘çš„åŸåˆ™å’Œæ–¹æ¡ˆã€‚")]),e._v(" "),v("p",[e._v("ä¼ é€é—¨ï¼š")]),e._v(" "),v("p",[e._v("ç©è½¬react-hooks,è‡ªå®šä¹‰hooksè®¾è®¡æ¨¡å¼åŠå…¶å®æˆ˜")]),e._v(" "),v("p",[e._v("react-hookså¦‚ä½•ä½¿ç”¨ï¼Ÿ")]),e._v(" "),v("h2",{attrs:{id:"_2-é«˜é˜¶ç»„ä»¶äº§ç”Ÿåˆè¡·"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_2-é«˜é˜¶ç»„ä»¶äº§ç”Ÿåˆè¡·"}},[e._v("#")]),e._v(" 2 é«˜é˜¶ç»„ä»¶äº§ç”Ÿåˆè¡·")]),e._v(" "),v("p",[e._v("ç»„ä»¶æ˜¯æŠŠ"),v("code",[e._v("prop")]),e._v("æ¸²æŸ“æˆ"),v("code",[e._v("UI")]),e._v(",è€Œé«˜é˜¶ç»„ä»¶æ˜¯å°†ç»„ä»¶è½¬æ¢æˆå¦å¤–ä¸€ä¸ªç»„ä»¶ï¼Œæˆ‘ä»¬æ›´åº”è¯¥æ³¨æ„çš„æ˜¯ï¼Œç»è¿‡åŒ…è£…åçš„ç»„ä»¶ï¼Œè·å¾—äº†é‚£äº›å¼ºåŒ–,èŠ‚çœå¤šå°‘é€»è¾‘ï¼Œæˆ–æ˜¯è§£å†³äº†åŸæœ‰ç»„ä»¶çš„é‚£äº›ç¼ºé™·ï¼Œè¿™å°±æ˜¯é«˜é˜¶ç»„ä»¶çš„æ„ä¹‰ã€‚æˆ‘ä»¬å…ˆæ¥æ€è€ƒä¸€ä¸‹é«˜é˜¶ç»„ä»¶ç©¶ç«Ÿè§£å†³äº†ä»€ä¹ˆé—®é¢˜ğŸ¤”ğŸ¤”ğŸ¤”ï¼Ÿ")]),e._v(" "),v("p",[v("strong",[e._v("â‘  å¤ç”¨é€»è¾‘")]),e._v("ï¼šé«˜é˜¶ç»„ä»¶æ›´åƒæ˜¯ä¸€ä¸ªåŠ å·¥"),v("code",[e._v("react")]),e._v("ç»„ä»¶çš„å·¥å‚ï¼Œæ‰¹é‡å¯¹åŸæœ‰ç»„ä»¶è¿›è¡Œ"),v("strong",[e._v("åŠ å·¥")]),e._v("ï¼Œ"),v("strong",[e._v("åŒ…è£…")]),e._v("å¤„ç†ã€‚æˆ‘ä»¬å¯ä»¥æ ¹æ®ä¸šåŠ¡éœ€æ±‚å®šåˆ¶åŒ–ä¸“å±çš„"),v("code",[e._v("HOC")]),e._v(",è¿™æ ·å¯ä»¥è§£å†³å¤ç”¨é€»è¾‘ã€‚")]),e._v(" "),v("p",[v("strong",[e._v("â‘¡ å¼ºåŒ–props")]),e._v("ï¼šè¿™ä¸ªæ˜¯"),v("code",[e._v("HOC")]),e._v("æœ€å¸¸ç”¨çš„ç”¨æ³•ä¹‹ä¸€ï¼Œé«˜é˜¶ç»„ä»¶è¿”å›çš„ç»„ä»¶ï¼Œå¯ä»¥åŠ«æŒä¸Šä¸€å±‚ä¼ è¿‡æ¥çš„"),v("code",[e._v("props")]),e._v(",ç„¶åæ··å…¥æ–°çš„"),v("code",[e._v("props")]),e._v(",æ¥å¢å¼ºç»„ä»¶çš„åŠŸèƒ½ã€‚ä»£è¡¨ä½œ"),v("code",[e._v("react-router")]),e._v("ä¸­çš„"),v("code",[e._v("withRouter")]),e._v("ã€‚")]),e._v(" "),v("p",[v("strong",[e._v("â‘¢ èµ‹èƒ½ç»„ä»¶")]),e._v("ï¼š"),v("code",[e._v("HOC")]),e._v("æœ‰ä¸€é¡¹ç‹¬ç‰¹çš„ç‰¹æ€§ï¼Œå°±æ˜¯å¯ä»¥ç»™è¢«"),v("code",[e._v("HOC")]),e._v("åŒ…è£¹çš„ä¸šåŠ¡ç»„ä»¶ï¼Œæä¾›ä¸€äº›æ‹“å±•åŠŸèƒ½ï¼Œæ¯”å¦‚è¯´"),v("strong",[e._v("é¢å¤–çš„ç”Ÿå‘½å‘¨æœŸï¼Œé¢å¤–çš„äº‹ä»¶")]),e._v("ï¼Œä½†æ˜¯è¿™ç§"),v("code",[e._v("HOC")]),e._v("ï¼Œå¯èƒ½éœ€è¦å’Œä¸šåŠ¡ç»„ä»¶ç´§å¯†ç»“åˆã€‚å…¸å‹æ¡ˆä¾‹"),v("code",[e._v("react-keepalive-router")]),e._v("ä¸­çš„ "),v("code",[e._v("keepaliveLifeCycle")]),e._v("å°±æ˜¯é€šè¿‡"),v("code",[e._v("HOC")]),e._v("æ–¹å¼ï¼Œç»™ä¸šåŠ¡ç»„ä»¶å¢åŠ äº†é¢å¤–çš„ç”Ÿå‘½å‘¨æœŸã€‚")]),e._v(" "),v("p",[v("strong",[e._v("â‘£ æ§åˆ¶æ¸²æŸ“")]),e._v("ï¼šåŠ«æŒæ¸²æŸ“æ˜¯"),v("code",[e._v("hoc")]),e._v("ä¸€ä¸ªç‰¹æ€§ï¼Œåœ¨"),v("code",[e._v("wrapComponent")]),e._v("åŒ…è£…ç»„ä»¶ä¸­ï¼Œå¯ä»¥å¯¹åŸæ¥çš„ç»„ä»¶ï¼Œè¿›è¡Œ"),v("code",[e._v("æ¡ä»¶æ¸²æŸ“")]),e._v("ï¼Œ"),v("code",[e._v("èŠ‚æµæ¸²æŸ“")]),e._v("ï¼Œ"),v("code",[e._v("æ‡’åŠ è½½")]),e._v("ç­‰åŠŸèƒ½ï¼Œåé¢ä¼šè¯¦ç»†è®²è§£ï¼Œå…¸å‹ä»£è¡¨åš"),v("code",[e._v("react-redux")]),e._v("ä¸­"),v("code",[e._v("connect")]),e._v("å’Œ "),v("code",[e._v("dva")]),e._v("ä¸­ "),v("code",[e._v("dynamic")]),e._v(" ç»„ä»¶æ‡’åŠ è½½ã€‚")]),e._v(" "),v("p",[e._v("æˆ‘ä¼šé’ˆå¯¹é«˜é˜¶ç»„ä»¶çš„åˆè¡·å±•å¼€ï¼Œè¯¦ç»†ä»‹ç»å…¶åŸç†å·²ç»ç”¨æ³•ã€‚è·Ÿä¸Šæˆ‘çš„æ€è·¯ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹ï¼Œé«˜é˜¶ç»„ä»¶"),v("strong",[e._v("å¦‚ä½•åœ¨æˆ‘ä»¬çš„ä¸šåŠ¡ç»„ä»¶ä¸­ä½¿ç”¨çš„")]),e._v("ã€‚")]),e._v(" "),v("h2",{attrs:{id:"_3-é«˜é˜¶ç»„ä»¶ä½¿ç”¨å’Œç¼–å†™ç»“æ„"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_3-é«˜é˜¶ç»„ä»¶ä½¿ç”¨å’Œç¼–å†™ç»“æ„"}},[e._v("#")]),e._v(" 3 é«˜é˜¶ç»„ä»¶ä½¿ç”¨å’Œç¼–å†™ç»“æ„")]),e._v(" "),v("p",[v("code",[e._v("HOC")]),e._v("ä½¿ç”¨æŒ‡å—æ˜¯éå¸¸ç®€å•çš„ï¼Œåªéœ€è¦å°†æˆ‘ä»¬çš„ç»„ä»¶è¿›è¡ŒåŒ…è£¹å°±å¯ä»¥äº†ã€‚")]),e._v(" "),v("h3",{attrs:{id:"ä½¿ç”¨-è£…é¥°å™¨æ¨¡å¼å’Œå‡½æ•°åŒ…è£¹æ¨¡å¼"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨-è£…é¥°å™¨æ¨¡å¼å’Œå‡½æ•°åŒ…è£¹æ¨¡å¼"}},[e._v("#")]),e._v(" ä½¿ç”¨ï¼šè£…é¥°å™¨æ¨¡å¼å’Œå‡½æ•°åŒ…è£¹æ¨¡å¼")]),e._v(" "),v("p",[e._v("å¯¹äº"),v("code",[e._v("class")]),e._v("å£°æ˜çš„æœ‰çŠ¶æ€ç»„ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨è£…é¥°å™¨æ¨¡å¼ï¼Œå¯¹ç±»ç»„ä»¶è¿›è¡ŒåŒ…è£…ï¼š")]),e._v(" "),v("ul",[v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li")]),e._v(" "),v("div",{staticClass:"language- extra-class"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[e._v("@withStyles(styles)@withRouter@keepaliveLifeCycleclass Index extends React.Componen{    /* ... */}\n")])])]),v("p",[v("strong",[e._v("æˆ‘ä»¬è¦æ³¨æ„ä¸€ä¸‹åŒ…è£…é¡ºåºï¼Œè¶Šé è¿‘"),v("code",[e._v("Index")]),e._v("ç»„ä»¶çš„ï¼Œå°±æ˜¯è¶Šå†…å±‚çš„"),v("code",[e._v("HOC")]),e._v(",ç¦»ç»„ä»¶"),v("code",[e._v("Index")]),e._v("ä¹Ÿå°±è¶Šè¿‘ã€‚")])]),e._v(" "),v("p",[e._v("å¯¹äºæ— çŠ¶æ€ç»„ä»¶(å‡½æ•°å£°æ˜ï¼‰æˆ‘ä»¬å¯ä»¥è¿™ä¹ˆå†™ï¼š")]),e._v(" "),v("ul",[v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li")]),e._v(" "),v("div",{staticClass:"language- extra-class"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[e._v("function Index(){    /* .... */}export default withStyles(styles)(withRouter( keepaliveLifeCycle(Index) )) \n")])])]),v("h3",{attrs:{id:"æ¨¡å‹-åµŒå¥—hoc"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#æ¨¡å‹-åµŒå¥—hoc"}},[e._v("#")]),e._v(" æ¨¡å‹ï¼šåµŒå¥—HOC")]),e._v(" "),v("p",[e._v("å¯¹äºä¸éœ€è¦ä¼ é€’å‚æ•°çš„"),v("code",[e._v("HOC")]),e._v("ï¼Œæˆ‘ä»¬ç¼–å†™æ¨¡å‹æˆ‘ä»¬åªéœ€è¦åµŒå¥—ä¸€å±‚å°±å¯ä»¥ï¼Œæ¯”å¦‚"),v("code",[e._v("withRouter")]),e._v(",")]),e._v(" "),v("ul",[v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li")]),e._v(" "),v("div",{staticClass:"language- extra-class"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[e._v("function withRouter(){    return class wrapComponent extends React.Component{        /* ç¼–å†™é€»è¾‘ */    }}\n")])])]),v("p",[e._v("å¯¹äºéœ€è¦å‚æ•°çš„"),v("code",[e._v("HOC")]),e._v("ï¼Œæˆ‘ä»¬éœ€è¦ä¸€å±‚ä»£ç†ï¼Œå¦‚ä¸‹ï¼š")]),e._v(" "),v("ul",[v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li")]),e._v(" "),v("div",{staticClass:"language- extra-class"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[e._v("function connect (mapStateToProps){    /* æ¥å—ç¬¬ä¸€ä¸ªå‚æ•° */    return function connectAdvance(wrapCompoent){        /* æ¥å—ç»„ä»¶ */        return class WrapComponent extends React.Component{  }    }}\n")])])]),v("p",[e._v("æˆ‘ä»¬çœ‹å‡ºä¸¤ç§"),v("code",[e._v("hoc")]),e._v("æ¨¡å‹å¾ˆç®€å•ï¼Œå¯¹äºä»£ç†å‡½æ•°ï¼Œå¯èƒ½æœ‰ä¸€å±‚ï¼Œå¯èƒ½æœ‰å¾ˆå¤šå±‚ï¼Œä¸è¿‡ä¸è¦æ€•ï¼Œæ— è®ºå¤šå°‘å±‚æœ¬è´¨ä¸Šéƒ½æ˜¯ä¸€æ ·çš„ï¼Œæˆ‘ä»¬åªéœ€è¦ä¸€å±‚ä¸€å±‚å‰¥ç¦»å¼€ï¼Œåˆ†æç»“æ„ï¼Œæ•´ä¸ª"),v("code",[e._v("hoc")]),e._v("ç»“æ„å’Œè„‰ç»œå°±ä¼šæ¸…æ™°å¯è§ã€‚åƒé€"),v("code",[e._v("hoc")]),e._v("ä¹Ÿå°±æ˜“å¦‚åæŒã€‚")]),e._v(" "),v("h2",{attrs:{id:"_4-ä¸¤ç§ä¸åŒçš„é«˜é˜¶ç»„ä»¶"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_4-ä¸¤ç§ä¸åŒçš„é«˜é˜¶ç»„ä»¶"}},[e._v("#")]),e._v(" 4 ä¸¤ç§ä¸åŒçš„é«˜é˜¶ç»„ä»¶")]),e._v(" "),v("p",[e._v("å¸¸ç”¨çš„é«˜é˜¶ç»„ä»¶æœ‰ä¸¤ç§æ–¹å¼"),v("strong",[e._v("æ­£å‘çš„å±æ€§ä»£ç†")]),e._v("å’Œ"),v("strong",[e._v("åå‘çš„ç»„ä»¶ç»§æ‰¿")]),e._v("ï¼Œä¸¤è€…ä¹‹å‰æœ‰ä¸€äº›å…±æ€§å’ŒåŒºåˆ«ã€‚æ¥ä¸‹å…·ä½“ä»‹ç»ä¸¤è€…åŒºåˆ«ï¼Œåœ¨ç¬¬ä¸‰éƒ¨åˆ†ä¼šè¯¦ç»†ä»‹ç»å…·ä½“å®ç°ã€‚")]),e._v(" "),v("h3",{attrs:{id:"æ­£å‘å±æ€§ä»£ç†"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#æ­£å‘å±æ€§ä»£ç†"}},[e._v("#")]),e._v(" æ­£å‘å±æ€§ä»£ç†")]),e._v(" "),v("p",[e._v("æ‰€è°“æ­£å‘å±æ€§ä»£ç†ï¼Œå°±æ˜¯ç”¨ç»„ä»¶åŒ…è£¹ä¸€å±‚ä»£ç†ç»„ä»¶ï¼Œåœ¨ä»£ç†ç»„ä»¶ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥åšä¸€äº›ï¼Œå¯¹æºç»„ä»¶çš„ä»£ç†æ“ä½œã€‚åœ¨"),v("code",[e._v("fiber tree")]),e._v(" ä¸Šï¼Œå…ˆ"),v("code",[e._v("mounted")]),e._v("ä»£ç†ç»„ä»¶ï¼Œç„¶åæ‰æ˜¯æˆ‘ä»¬çš„ä¸šåŠ¡ç»„ä»¶ã€‚æˆ‘ä»¬å¯ä»¥ç†è§£ä¸ºçˆ¶å­ç»„ä»¶å…³ç³»ï¼Œçˆ¶ç»„ä»¶å¯¹å­ç»„ä»¶è¿›è¡Œä¸€ç³»åˆ—å¼ºåŒ–æ“ä½œã€‚")]),e._v(" "),v("ul",[v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li")]),e._v(" "),v("div",{staticClass:"language- extra-class"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[e._v("function HOC(WrapComponent){    return class Advance extends React.Component{       state={           name:'alien'       }       render(){           return <WrapComponent  { ...this.props } { ...this.state }  />       }    }}\n")])])]),v("h4",{attrs:{id:"ä¼˜ç‚¹"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#ä¼˜ç‚¹"}},[e._v("#")]),e._v(" ä¼˜ç‚¹")]),e._v(" "),v("ul",[v("li",[e._v("â‘  æ­£å¸¸å±æ€§ä»£ç†å¯ä»¥å’Œä¸šåŠ¡ç»„ä»¶ä½è€¦åˆï¼Œé›¶è€¦åˆï¼Œå¯¹äº"),v("code",[e._v("æ¡ä»¶æ¸²æŸ“")]),e._v("å’Œ"),v("code",[e._v("propså±æ€§å¢å¼º")]),e._v(",åªè´Ÿè´£æ§åˆ¶å­ç»„ä»¶æ¸²æŸ“å’Œä¼ é€’é¢å¤–çš„"),v("code",[e._v("props")]),e._v("å°±å¯ä»¥ï¼Œæ‰€ä»¥æ— é¡»çŸ¥é“ï¼Œä¸šåŠ¡ç»„ä»¶åšäº†äº›ä»€ä¹ˆã€‚æ‰€ä»¥æ­£å‘å±æ€§ä»£ç†ï¼Œæ›´é€‚åˆåšä¸€äº›å¼€æºé¡¹ç›®çš„"),v("code",[e._v("hoc")]),e._v("ï¼Œç›®å‰å¼€æºçš„"),v("code",[e._v("HOC")]),e._v("åŸºæœ¬éƒ½æ˜¯é€šè¿‡è¿™ä¸ªæ¨¡å¼å®ç°çš„ã€‚")]),e._v(" "),v("li",[e._v("â‘¡ åŒæ ·é€‚ç”¨äº"),v("code",[e._v("class")]),e._v("å£°æ˜ç»„ä»¶ï¼Œå’Œ"),v("code",[e._v("function")]),e._v("å£°æ˜çš„ç»„ä»¶ã€‚")]),e._v(" "),v("li",[e._v("â‘¢ å¯ä»¥å®Œå…¨éš”ç¦»ä¸šåŠ¡ç»„ä»¶çš„æ¸²æŸ“,ç›¸æ¯”åå‘ç»§æ‰¿ï¼Œå±æ€§ä»£ç†è¿™ç§æ¨¡å¼ã€‚å¯ä»¥å®Œå…¨æ§åˆ¶ä¸šåŠ¡ç»„ä»¶æ¸²æŸ“ä¸å¦ï¼Œå¯ä»¥é¿å…"),v("code",[e._v("åå‘ç»§æ‰¿")]),e._v("å¸¦æ¥ä¸€äº›å‰¯ä½œç”¨ï¼Œæ¯”å¦‚ç”Ÿå‘½å‘¨æœŸçš„æ‰§è¡Œã€‚")]),e._v(" "),v("li",[e._v("â‘£ å¯ä»¥åµŒå¥—ä½¿ç”¨ï¼Œå¤šä¸ª"),v("code",[e._v("hoc")]),e._v("æ˜¯å¯ä»¥åµŒå¥—ä½¿ç”¨çš„ï¼Œè€Œä¸”ä¸€èˆ¬ä¸ä¼šé™åˆ¶åŒ…è£…"),v("code",[e._v("HOC")]),e._v("çš„å…ˆåé¡ºåºã€‚")])]),e._v(" "),v("h4",{attrs:{id:"ç¼ºç‚¹"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#ç¼ºç‚¹"}},[e._v("#")]),e._v(" ç¼ºç‚¹")]),e._v(" "),v("ul",[v("li",[e._v("â‘  ä¸€èˆ¬æ— æ³•ç›´æ¥è·å–ä¸šåŠ¡ç»„ä»¶çš„çŠ¶æ€ï¼Œå¦‚æœæƒ³è¦è·å–ï¼Œéœ€è¦"),v("code",[e._v("ref")]),e._v("è·å–ç»„ä»¶å®ä¾‹ã€‚")]),e._v(" "),v("li",[e._v("â‘¡ æ— æ³•ç›´æ¥ç»§æ‰¿é™æ€å±æ€§ã€‚å¦‚æœéœ€è¦ç»§æ‰¿éœ€è¦æ‰‹åŠ¨å¤„ç†ï¼Œæˆ–è€…å¼•å…¥ç¬¬ä¸‰æ–¹åº“ã€‚")])]),e._v(" "),v("p",[v("strong",[e._v("ä¾‹å­ï¼š")])]),e._v(" "),v("ul",[v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li")]),e._v(" "),v("div",{staticClass:"language- extra-class"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[e._v("class Index extends React.Component{  render(){    return <div> hello,world  </div>  }}Index.say = function(){  console.log('my name is alien')}function HOC(Component) {  return class wrapComponent extends React.Component{     render(){       return <Component { ...this.props } { ...this.state } />     }  }}const newIndex =  HOC(Index) console.log(newIndex.say)\n")])])]),v("p",[v("strong",[e._v("æ‰“å°ç»“æœ")])]),e._v(" "),v("p",[v("img",{attrs:{src:"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==",alt:"å›¾ç‰‡"}})]),e._v(" "),v("h3",{attrs:{id:"åå‘ç»§æ‰¿"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#åå‘ç»§æ‰¿"}},[e._v("#")]),e._v(" åå‘ç»§æ‰¿")]),e._v(" "),v("p",[e._v("åå‘ç»§æ‰¿å’Œå±æ€§ä»£ç†æœ‰ä¸€å®šçš„åŒºåˆ«ï¼Œåœ¨äºåŒ…è£…åçš„ç»„ä»¶ç»§æ‰¿äº†ä¸šåŠ¡ç»„ä»¶æœ¬èº«ï¼Œæ‰€ä»¥æˆ‘ä»¬æˆ‘æ— é¡»åœ¨å»å®ä¾‹åŒ–æˆ‘ä»¬çš„ä¸šåŠ¡ç»„ä»¶ã€‚å½“å‰é«˜é˜¶ç»„ä»¶å°±æ˜¯ç»§æ‰¿åï¼ŒåŠ å¼ºå‹çš„ä¸šåŠ¡ç»„ä»¶ã€‚è¿™ç§æ–¹å¼ç±»ä¼¼äºç»„ä»¶çš„å¼ºåŒ–ï¼Œæ‰€ä»¥ä½ å¿…è¦è¦çŸ¥é“å½“å‰")]),e._v(" "),v("ul",[v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li")]),e._v(" "),v("div",{staticClass:"language- extra-class"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[e._v("class Index extends React.Component{  render(){    return <div> hello,world  </div>  }}function HOC(Component){    return class wrapComponent extends Component{ /* ç›´æ¥ç»§æ‰¿éœ€è¦åŒ…è£…çš„ç»„ä»¶ */\n    }}export default HOC(Index)\n")])])]),v("h4",{attrs:{id:"ä¼˜ç‚¹-2"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#ä¼˜ç‚¹-2"}},[e._v("#")]),e._v(" ä¼˜ç‚¹")]),e._v(" "),v("ul",[v("li",[v("p",[e._v("â‘  æ–¹ä¾¿è·å–ç»„ä»¶å†…éƒ¨çŠ¶æ€ï¼Œæ¯”å¦‚"),v("code",[e._v("state")]),e._v("ï¼Œ"),v("code",[e._v("props")]),e._v(" ,ç”Ÿå‘½å‘¨æœŸ,ç»‘å®šçš„äº‹ä»¶å‡½æ•°ç­‰")])]),e._v(" "),v("li",[v("p",[e._v("â‘¡ "),v("code",[e._v("es6")]),e._v("ç»§æ‰¿å¯ä»¥è‰¯å¥½ç»§æ‰¿é™æ€å±æ€§ã€‚æˆ‘ä»¬æ— é¡»å¯¹é™æ€å±æ€§å’Œæ–¹æ³•è¿›è¡Œé¢å¤–çš„å¤„ç†ã€‚")])]),e._v(" "),v("li",[v("ul",[v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li")]),e._v(" "),v("div",{staticClass:"language- extra-class"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[e._v("class Index extends React.Component{  render(){    return <div> hello,world  </div>  }}Index.say = function(){  console.log('my name is alien')}function HOC(Component) {  return class wrapComponent extends Component{  }}const newIndex =  HOC(Index) console.log(newIndex.say)\n")])])])])]),e._v(" "),v("p",[v("strong",[e._v("æ‰“å°ç»“æœ")])]),e._v(" "),v("p",[v("img",{attrs:{src:"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==",alt:"å›¾ç‰‡"}})]),e._v(" "),v("h4",{attrs:{id:"ç¼ºç‚¹-2"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#ç¼ºç‚¹-2"}},[e._v("#")]),e._v(" ç¼ºç‚¹")]),e._v(" "),v("ul",[v("li",[e._v("â‘  æ— çŠ¶æ€ç»„ä»¶æ— æ³•ä½¿ç”¨ã€‚")]),e._v(" "),v("li",[e._v("â‘¡ å’Œè¢«åŒ…è£…çš„ç»„ä»¶å¼ºè€¦åˆï¼Œéœ€è¦çŸ¥é“è¢«åŒ…è£…çš„ç»„ä»¶çš„å†…éƒ¨çŠ¶æ€ï¼Œå…·ä½“æ˜¯åšä»€ä¹ˆï¼Ÿ")]),e._v(" "),v("li",[e._v("â‘¢ å¦‚æœå¤šä¸ªåå‘ç»§æ‰¿"),v("code",[e._v("hoc")]),e._v("åµŒå¥—åœ¨ä¸€èµ·ï¼Œå½“å‰çŠ¶æ€ä¼šè¦†ç›–ä¸Šä¸€ä¸ªçŠ¶æ€ã€‚è¿™æ ·å¸¦æ¥çš„éšæ‚£æ˜¯éå¸¸å¤§çš„ï¼Œæ¯”å¦‚è¯´æœ‰å¤šä¸ª"),v("code",[e._v("componentDidMount")]),e._v("ï¼Œå½“å‰"),v("code",[e._v("componentDidMount")]),e._v("ä¼šè¦†ç›–ä¸Šä¸€ä¸ª"),v("code",[e._v("componentDidMount")]),e._v("ã€‚è¿™æ ·å‰¯ä½œç”¨ä¸²è”èµ·æ¥ï¼Œå½±å“å¾ˆå¤§ã€‚")])]),e._v(" "),v("h1",{attrs:{id:"ä¸‰-å¦‚ä½•ç¼–å†™é«˜é˜¶ç»„ä»¶"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#ä¸‰-å¦‚ä½•ç¼–å†™é«˜é˜¶ç»„ä»¶"}},[e._v("#")]),e._v(" ä¸‰ å¦‚ä½•ç¼–å†™é«˜é˜¶ç»„ä»¶")]),e._v(" "),v("p",[e._v("æ¥ä¸‹æ¥æˆ‘ä»¬æ¥çœ‹çœ‹ï¼Œå¦‚ä½•ç¼–å†™ä¸€ä¸ªé«˜é˜¶ç»„ä»¶ï¼Œä½ å¯ä»¥å‚è€ƒå¦‚ä¸‹çš„æƒ…æ™¯ï¼Œå»ç¼–å†™å±äºè‡ªå·±çš„"),v("code",[e._v("HOC")]),e._v("ã€‚")]),e._v(" "),v("h2",{attrs:{id:"_1-å¼ºåŒ–props"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_1-å¼ºåŒ–props"}},[e._v("#")]),e._v(" 1 å¼ºåŒ–props")]),e._v(" "),v("h3",{attrs:{id:"_1-æ··å…¥props"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_1-æ··å…¥props"}},[e._v("#")]),e._v(" â‘  æ··å…¥props")]),e._v(" "),v("p",[e._v("è¿™ä¸ªæ˜¯é«˜é˜¶ç»„ä»¶æœ€å¸¸ç”¨çš„åŠŸèƒ½ï¼Œæ‰¿æ¥ä¸Šå±‚çš„"),v("code",[e._v("props")]),e._v(",åœ¨æ··å…¥è‡ªå·±çš„"),v("code",[e._v("props")]),e._v("ï¼Œæ¥å¼ºåŒ–ç»„ä»¶ã€‚")]),e._v(" "),v("p",[v("strong",[e._v("æœ‰çŠ¶æ€ç»„ä»¶(å±æ€§ä»£ç†)")])]),e._v(" "),v("ul",[v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li")]),e._v(" "),v("div",{staticClass:"language- extra-class"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[e._v("function classHOC(WrapComponent){    return class  Idex extends React.Component{        state={            name:'alien'        }        componentDidMount(){           console.log('HOC')        }        render(){            return <WrapComponent { ...this.props }  { ...this.state }   />        }    }}function Index(props){  const { name } = props  useEffect(()=>{     console.log( 'index' )  },[])  return <div>    hello,world , my name is { name }  </div>}\nexport default classHOC(Index)\n")])])]),v("p",[v("strong",[e._v("æœ‰çŠ¶æ€ç»„ä»¶(å±æ€§ä»£ç†)")])]),e._v(" "),v("p",[e._v("åŒæ ·ä¹Ÿé€‚ç”¨ä¸æ— çŠ¶æ€ç»„ä»¶ã€‚")]),e._v(" "),v("ul",[v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li")]),e._v(" "),v("div",{staticClass:"language- extra-class"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[e._v("function functionHoc(WrapComponent){    return function Index(props){        const [ state , setState ] = useState({ name :'alien'  })               return  <WrapComponent { ...props }  { ...state }   />    }}\n")])])]),v("p",[v("strong",[e._v("æ•ˆæœ")])]),e._v(" "),v("p",[v("img",{attrs:{src:"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==",alt:"å›¾ç‰‡"}})]),e._v(" "),v("h3",{attrs:{id:"_2-æŠ½ç¦»stateæ§åˆ¶æ›´æ–°"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_2-æŠ½ç¦»stateæ§åˆ¶æ›´æ–°"}},[e._v("#")]),e._v(" â‘¡ æŠ½ç¦»stateæ§åˆ¶æ›´æ–°")]),e._v(" "),v("p",[e._v("é«˜é˜¶ç»„ä»¶å¯ä»¥å°†"),v("code",[e._v("HOC")]),e._v("çš„"),v("code",[e._v("state")]),e._v("çš„é…åˆèµ·æ¥ï¼Œæ§åˆ¶ä¸šåŠ¡ç»„ä»¶çš„æ›´æ–°ã€‚è¿™ç§ç”¨æ³•åœ¨"),v("code",[e._v("react-redux")]),e._v("ä¸­"),v("code",[e._v("connect")]),e._v("é«˜é˜¶ç»„ä»¶ä¸­ç”¨åˆ°è¿‡ï¼Œç”¨äºå¤„ç†æ¥è‡ª"),v("code",[e._v("redux")]),e._v("ä¸­"),v("code",[e._v("state")]),e._v("æ›´æ”¹ï¼Œå¸¦æ¥çš„è®¢é˜…æ›´æ–°ä½œç”¨ã€‚")]),e._v(" "),v("p",[e._v("æˆ‘ä»¬å°†ä¸Šè¿°ä»£ç è¿›è¡Œæ”¹é€ ã€‚")]),e._v(" "),v("ul",[v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li")]),e._v(" "),v("div",{staticClass:"language- extra-class"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[e._v("function classHOC(WrapComponent){  return class  Idex extends React.Component{      constructor(){        super()        this.state={          name:'alien'        }      }      changeName(name){        this.setState({ name })      }      render(){          return <WrapComponent { ...this.props }  { ...this.state } changeName={this.changeName.bind(this)  }  />      }  }}function Index(props){  const [ value ,setValue ] = useState(null)  const { name ,changeName } = props  return <div>    <div>   hello,world , my name is { name }</div>    æ”¹å˜name <input onChange={ (e)=> setValue(e.target.value)  }  />    <button onClick={ ()=>  changeName(value) }  >ç¡®å®š</button>  </div>}\nexport default classHOC(Index)\n")])])]),v("p",[v("strong",[e._v("æ•ˆæœ")])]),e._v(" "),v("p",[v("img",{attrs:{src:"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==",alt:"å›¾ç‰‡"}})]),e._v(" "),v("h2",{attrs:{id:"_2-æ§åˆ¶æ¸²æŸ“"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_2-æ§åˆ¶æ¸²æŸ“"}},[e._v("#")]),e._v(" 2 æ§åˆ¶æ¸²æŸ“")]),e._v(" "),v("p",[e._v("æ§åˆ¶æ¸²æŸ“æ˜¯é«˜é˜¶ç»„ä»¶çš„ä¸€ä¸ªå¾ˆé‡è¦çš„ç‰¹æ€§ï¼Œä¸Šè¾¹è¯´åˆ°çš„ä¸¤ç§é«˜é˜¶ç»„ä»¶ï¼Œéƒ½èƒ½å®Œæˆå¯¹ç»„ä»¶æ¸²æŸ“çš„æ§åˆ¶ã€‚å…·ä½“å®ç°è¿˜æ˜¯æœ‰åŒºåˆ«çš„ï¼Œæˆ‘ä»¬ä¸€èµ·æ¥æ¢ç´¢ä¸€ä¸‹ã€‚")]),e._v(" "),v("h3",{attrs:{id:"_2-1-æ¡ä»¶æ¸²æŸ“"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-æ¡ä»¶æ¸²æŸ“"}},[e._v("#")]),e._v(" 2.1 æ¡ä»¶æ¸²æŸ“")]),e._v(" "),v("h4",{attrs:{id:"_1-åŸºç¡€-åŠ¨æ€æ¸²æŸ“"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_1-åŸºç¡€-åŠ¨æ€æ¸²æŸ“"}},[e._v("#")]),e._v(" â‘  åŸºç¡€ ï¼šåŠ¨æ€æ¸²æŸ“")]),e._v(" "),v("p",[e._v("å¯¹äºå±æ€§ä»£ç†çš„é«˜é˜¶ç»„ä»¶ï¼Œè™½ç„¶ä¸èƒ½åœ¨å†…éƒ¨æ“æ§æ¸²æŸ“çŠ¶æ€ï¼Œä½†æ˜¯å¯ä»¥åœ¨å¤–å±‚æ§åˆ¶å½“å‰ç»„ä»¶æ˜¯å¦æ¸²æŸ“ï¼Œè¿™ç§æƒ…å†µåº”ç”¨äºï¼Œ"),v("strong",[e._v("æƒé™éš”ç¦»")]),e._v("ï¼Œ"),v("strong",[e._v("æ‡’åŠ è½½")]),e._v(" ï¼Œ"),v("strong",[e._v("å»¶æ—¶åŠ è½½")]),e._v("ç­‰åœºæ™¯ã€‚")]),e._v(" "),v("p",[v("strong",[e._v("å®ç°ä¸€ä¸ªåŠ¨æ€æŒ‚è½½ç»„ä»¶çš„HOC")])]),e._v(" "),v("ul",[v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li")]),e._v(" "),v("div",{staticClass:"language- extra-class"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[e._v('function renderHOC(WrapComponent){  return class Index  extends React.Component{      constructor(props){        super(props)        this.state={ visible:true }        }      setVisible(){         this.setState({ visible:!this.state.visible })      }      render(){         const {  visible } = this.state          return <div className="box"  >           <button onClick={ this.setVisible.bind(this) } > æŒ‚è½½ç»„ä»¶ </button>           { visible ? <WrapComponent { ...this.props } setVisible={ this.setVisible.bind(this) }   />  : <div className="icon" ><SyncOutlined spin  className="theicon"  /></div> }         </div>      }  }}\nclass Index extends React.Component{  render(){    const { setVisible } = this.props    return <div className="box" >        <p>hello,my name is alien</p>        <img  src=\'https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=294206908,2427609994&fm=26&gp=0.jpg\'   />         <button onClick={() => setVisible()}  > å¸è½½å½“å‰ç»„ä»¶ </button>    </div>  }}export default renderHOC(Index)\n')])])]),v("p",[e._v("æ•ˆæœï¼š")]),e._v(" "),v("p",[v("img",{attrs:{src:"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==",alt:"å›¾ç‰‡"}})]),e._v(" "),v("h4",{attrs:{id:"_2-è¿›é˜¶-åˆ†ç‰‡æ¸²æŸ“"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_2-è¿›é˜¶-åˆ†ç‰‡æ¸²æŸ“"}},[e._v("#")]),e._v(" â‘¡ è¿›é˜¶ ï¼šåˆ†ç‰‡æ¸²æŸ“")]),e._v(" "),v("p",[e._v("æ˜¯ä¸æ˜¯æ„Ÿè§‰ä¸æ˜¯å¾ˆè¿‡ç˜¾ï¼Œä¸ºäº†è®©å¤§å®¶åŠ å¼ºå¯¹"),v("code",[e._v("HOC")]),e._v("æ¡ä»¶æ¸²æŸ“çš„ç†è§£ï¼Œæˆ‘å†åšä¸€ä¸ª"),v("strong",[e._v("åˆ†ç‰‡æ¸²æŸ“+æ‡’åŠ è½½")]),e._v("åŠŸèƒ½ã€‚ä¸ºäº†è®©å¤§å®¶æ˜ç™½ï¼Œæˆ‘ä¹Ÿæ˜¯ç»å°½è„‘æ±å•ŠğŸ˜‚ğŸ˜‚ğŸ˜‚ã€‚")]),e._v(" "),v("p",[v("strong",[e._v("è¿›é˜¶ï¼šå®ç°ä¸€ä¸ªæ‡’åŠ è½½åŠŸèƒ½çš„HOCï¼Œå¯ä»¥å®ç°ç»„ä»¶çš„åˆ†ç‰‡æ¸²æŸ“,ç”¨äºåˆ†ç‰‡æ¸²æŸ“é¡µé¢ï¼Œä¸è‡³äºä¸€æ¬¡æ¸²æŸ“å¤§é‡ç»„ä»¶é€ æˆç™½å±æ•ˆæœ")])]),e._v(" "),v("ul",[v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li")]),e._v(" "),v("div",{staticClass:"language- extra-class"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[e._v('const renderQueue = []let isFirstrender = false\nconst tryRender = ()=>{  const render = renderQueue.shift()  if(!render) return  setTimeout(()=>{    render() /* æ‰§è¡Œä¸‹ä¸€æ®µæ¸²æŸ“ */  },300)} /* HOC */function renderHOC(WrapComponent){    return function Index(props){      const [ isRender , setRender ] = useState(false)      useEffect(()=>{        renderQueue.push(()=>{  /* æ”¾å…¥å¾…æ¸²æŸ“é˜Ÿåˆ—ä¸­ */          setRender(true)        })        if(!isFirstrender) {          tryRender() /**/          isFirstrender = true        }      },[])      return isRender ? <WrapComponent tryRender={tryRender}  { ...props }  /> : <div className=\'box\' ><div className="icon" ><SyncOutlined   spin /></div></div>    }}/* ä¸šåŠ¡ç»„ä»¶ */class Index extends React.Component{  componentDidMount(){    const { name , tryRender} = this.props    /* ä¸Šä¸€éƒ¨åˆ†æ¸²æŸ“å®Œæ¯•ï¼Œè¿›è¡Œä¸‹ä¸€éƒ¨åˆ†æ¸²æŸ“ */    tryRender()    console.log( name+\'æ¸²æŸ“\')  }  render(){    return <div>        <img src="https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=294206908,2427609994&amp;fm=26&amp;gp=0.jpg" />    </div>  }}/* é«˜é˜¶ç»„ä»¶åŒ…è£¹ */const Item = renderHOC(Index)\nexport default () => {  return <React.Fragment>      <Item name="ç»„ä»¶ä¸€" />      <Item name="ç»„ä»¶äºŒ" />      <Item name="ç»„ä»¶ä¸‰" />  </React.Fragment>}\n')])])]),v("p",[v("strong",[e._v("æ•ˆæœ")])]),e._v(" "),v("p",[v("img",{attrs:{src:"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==",alt:"å›¾ç‰‡"}})]),e._v(" "),v("p",[e._v("å¤§è‡´æµç¨‹ï¼Œåˆå§‹åŒ–çš„æ—¶å€™ï¼Œ"),v("code",[e._v("HOC")]),e._v("ä¸­å°†æ¸²æŸ“çœŸæ­£ç»„ä»¶çš„æ¸²æŸ“å‡½æ•°ï¼Œæ”¾å…¥"),v("code",[e._v("renderQueue")]),e._v("é˜Ÿåˆ—ä¸­ï¼Œç„¶ååˆå§‹åŒ–æ¸²æŸ“ä¸€æ¬¡ï¼Œæ¥ä¸‹æ¥ï¼Œæ¯ä¸€ä¸ªé¡¹ç›®ç»„ä»¶ï¼Œå®Œæˆ "),v("code",[e._v("didMounted")]),e._v(" çŠ¶æ€åï¼Œä¼šä»é˜Ÿåˆ—ä¸­å–å‡ºä¸‹ä¸€ä¸ªæ¸²æŸ“å‡½æ•°ï¼Œæ¸²æŸ“ä¸‹ä¸€ä¸ªç»„ä»¶, ä¸€ç›´åˆ°æ‰€æœ‰çš„æ¸²æŸ“ä»»åŠ¡å…¨éƒ¨æ‰§è¡Œå®Œæ¯•ï¼Œæ¸²æŸ“é˜Ÿåˆ—æ¸…ç©ºï¼Œæœ‰æ•ˆçš„è¿›è¡Œåˆ†ç‰‡çš„æ¸²æŸ“ï¼Œè¿™ç§æ–¹å¼å¯¹æµ·é‡æ•°æ®å±•ç¤ºï¼Œå¾ˆå¥æ•ˆã€‚")]),e._v(" "),v("p",[e._v("ç”¨"),v("code",[e._v("HOC")]),e._v("å®ç°äº†æ¡ä»¶æ¸²æŸ“-åˆ†ç‰‡æ¸²æŸ“çš„åŠŸèƒ½ï¼Œå®é™…æ¡ä»¶æ¸²æŸ“ç†è§£èµ·æ¥å¾ˆå®¹æ˜“ï¼Œå°±æ˜¯é€šè¿‡å˜é‡ï¼Œæ§åˆ¶æ˜¯å¦æŒ‚è½½ç»„ä»¶ï¼Œä»è€Œæ»¡è¶³é¡¹ç›®æœ¬èº«éœ€æ±‚ï¼Œæ¡ä»¶æ¸²æŸ“å¯ä»¥æ¼”å˜æˆå¾ˆå¤šæ¨¡å¼ï¼Œæˆ‘è¿™é‡Œä»‹ç»äº†æ¡ä»¶æ¸²æŸ“çš„äºŒç§æ–¹å¼ï¼Œå¸Œæœ›å¤§å®¶èƒ½å¤Ÿç†è§£ç²¾é«“æ‰€åœ¨ã€‚")]),e._v(" "),v("h4",{attrs:{id:"_3-è¿›é˜¶-å¼‚æ­¥ç»„ä»¶-æ‡’åŠ è½½"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_3-è¿›é˜¶-å¼‚æ­¥ç»„ä»¶-æ‡’åŠ è½½"}},[e._v("#")]),e._v(" â‘¢ è¿›é˜¶ï¼šå¼‚æ­¥ç»„ä»¶(æ‡’åŠ è½½)")]),e._v(" "),v("p",[e._v("ä¸çŸ¥é“å¤§å®¶æœ‰æ²¡æœ‰ç”¨è¿‡"),v("code",[e._v("dva")]),e._v(",é‡Œé¢çš„"),v("code",[e._v("dynamic")]),e._v("å°±æ˜¯åº”ç”¨"),v("code",[e._v("HOC")]),e._v("æ¨¡å¼å®ç°çš„ç»„ä»¶å¼‚æ­¥åŠ è½½ï¼Œæˆ‘è¿™é‡Œç®€åŒ–äº†ä¸€ä¸‹ï¼Œæç‚¼æ ¸å¿ƒä»£ç ï¼Œå¦‚ä¸‹ï¼š")]),e._v(" "),v("ul",[v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li")]),e._v(" "),v("div",{staticClass:"language- extra-class"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[e._v("/* è·¯ç”±æ‡’åŠ è½½HOC */export default function AsyncRouter(loadRouter) {  return class Content extends React.Component {    state = {Component: null}    componentDidMount() {      if (this.state.Component) return      loadRouter()        .then(module => module.default)        .then(Component => this.setState({Component},         ))    }    render() {      const {Component} = this.state      return Component ? <Component {      ...this.props      }      /> : null    }  }}\n")])])]),v("p",[e._v("ä½¿ç”¨")]),e._v(" "),v("ul",[v("li")]),e._v(" "),v("div",{staticClass:"language- extra-class"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[e._v("const Index = AsyncRouter(()=>import('../pages/index'))\n")])])]),v("p",[v("code",[e._v("hoc")]),e._v("è¿˜å¯ä»¥é…åˆå…¶ä»–"),v("code",[e._v("API")]),e._v("ï¼Œåšä¸€ä¸‹è¡ç”Ÿçš„åŠŸèƒ½ã€‚å¦‚ä¸Šé…åˆ"),v("code",[e._v("import")]),e._v("å®ç°å¼‚æ­¥åŠ è½½åŠŸèƒ½ã€‚"),v("code",[e._v("HOC")]),e._v("ç”¨èµ·æ¥éå¸¸çµæ´»ï¼Œ")]),e._v(" "),v("h4",{attrs:{id:"_4-åå‘ç»§æ‰¿-æ¸²æŸ“åŠ«æŒ"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_4-åå‘ç»§æ‰¿-æ¸²æŸ“åŠ«æŒ"}},[e._v("#")]),e._v(" â‘£ åå‘ç»§æ‰¿ ï¼šæ¸²æŸ“åŠ«æŒ")]),e._v(" "),v("p",[v("strong",[e._v("HOCåå‘ç»§æ‰¿æ¨¡å¼ï¼Œå¯ä»¥å®ç°é¢—ç²’åŒ–çš„æ¸²æŸ“åŠ«æŒï¼Œä¹Ÿå°±æ˜¯å¯ä»¥æ§åˆ¶åŸºç±»ç»„ä»¶çš„"),v("code",[e._v("render")]),e._v("å‡½æ•°ï¼Œè¿˜å¯ä»¥ç¯¡æ”¹propsï¼Œæˆ–è€…æ˜¯"),v("code",[e._v("children")]),e._v("ï¼Œæˆ‘ä»¬æ¥ä¸‹æ¥çœ‹çœ‹ï¼Œè¿™ç§çŠ¶æ€ä¸‹ï¼Œæ€ä¹ˆä½¿ç”¨é«˜é˜¶ç»„ä»¶ã€‚")])]),e._v(" "),v("ul",[v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li")]),e._v(" "),v("div",{staticClass:"language- extra-class"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[e._v("const HOC = (WrapComponent) =>  class Index  extends WrapComponent {    render() {      if (this.props.visible) {        return super.render()      } else {        return <div>æš‚æ— æ•°æ®</div>      }    }  }\n")])])]),v("h4",{attrs:{id:"_5-åå‘ç»§æ‰¿-ä¿®æ”¹æ¸²æŸ“æ ‘"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_5-åå‘ç»§æ‰¿-ä¿®æ”¹æ¸²æŸ“æ ‘"}},[e._v("#")]),e._v(" â‘¤ åå‘ç»§æ‰¿ï¼šä¿®æ”¹æ¸²æŸ“æ ‘")]),e._v(" "),v("p",[v("strong",[e._v("ä¿®æ”¹æ¸²æŸ“çŠ¶æ€(åŠ«æŒrenderæ›¿æ¢å­èŠ‚ç‚¹)")])]),e._v(" "),v("ul",[v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li")]),e._v(" "),v("div",{staticClass:"language- extra-class"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[e._v("class Index extends React.Component{  render(){    return <div>       <ul>         <li>react</li>         <li>vue</li>         <li>Angular</li>       </ul>    </div>  }}\nfunction HOC (Component){  return class Advance extends Component {    render() {      const element = super.render()      const otherProps = {        name:'alien'      }      /* æ›¿æ¢ Angular å…ƒç´ èŠ‚ç‚¹ */      const appendElement = React.createElement('li' ,{} , `hello ,world , my name  is ${ otherProps.name }` )      const newchild =  React.Children.map(element.props.children.props.children,(child,index)=>{           if(index === 2) return appendElement           return  child      })       return  React.cloneElement(element, element.props, newchild)    }  }}export  default HOC(Index)\n")])])]),v("p",[v("strong",[e._v("æ•ˆæœ")])]),e._v(" "),v("p",[v("img",{attrs:{src:"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==",alt:"å›¾ç‰‡"}})]),e._v(" "),v("p",[e._v("æˆ‘ä»¬ç”¨åŠ«æŒæ¸²æŸ“çš„æ–¹å¼ï¼Œæ¥æ“çºµ"),v("code",[e._v("super.render()")]),e._v("åçš„"),v("code",[e._v("React.element")]),e._v("å…ƒç´ ï¼Œç„¶åé…åˆ "),v("code",[e._v("createElement")]),e._v(" , "),v("code",[e._v("cloneElement")]),e._v(" , "),v("code",[e._v("React.Children")]),e._v(" ç­‰ "),v("code",[e._v("api")]),e._v(",å¯ä»¥çµæ´»æ“çºµï¼ŒçœŸæ­£çš„æ¸²æŸ“"),v("code",[e._v("react.element")]),e._v("ï¼Œå¯ä»¥è¯´æ˜¯å·å¤©æ¢æ—¥ï¼Œä¸äº¦ä¹ä¹ã€‚")]),e._v(" "),v("h3",{attrs:{id:"_2-2èŠ‚æµæ¸²æŸ“"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_2-2èŠ‚æµæ¸²æŸ“"}},[e._v("#")]),e._v(" 2.2èŠ‚æµæ¸²æŸ“")]),e._v(" "),v("p",[v("code",[e._v("hoc")]),e._v("é™¤äº†å¯ä»¥è¿›è¡Œ"),v("strong",[e._v("æ¡ä»¶æ¸²æŸ“")]),e._v("ï¼Œ"),v("strong",[e._v("æ¸²æŸ“åŠ«æŒ")]),e._v("åŠŸèƒ½å¤–ï¼Œè¿˜å¯ä»¥è¿›è¡ŒèŠ‚æµæ¸²æŸ“ï¼Œä¹Ÿå°±æ˜¯å¯ä»¥ä¼˜åŒ–æ€§èƒ½ï¼Œå…·ä½“æ€ä¹ˆåšï¼Œè¯·è·Ÿä¸Šæˆ‘çš„èŠ‚å¥å¾€ä¸‹çœ‹ã€‚")]),e._v(" "),v("h4",{attrs:{id:"_1-åŸºç¡€-èŠ‚æµåŸç†"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_1-åŸºç¡€-èŠ‚æµåŸç†"}},[e._v("#")]),e._v(" â‘  åŸºç¡€: èŠ‚æµåŸç†")]),e._v(" "),v("p",[v("code",[e._v("hoc")]),e._v("å¯ä»¥é…åˆ"),v("code",[e._v("hooks")]),e._v("çš„"),v("code",[e._v("useMemo")]),e._v("ç­‰"),v("code",[e._v("API")]),e._v("é…åˆä½¿ç”¨ï¼Œå¯ä»¥å®ç°å¯¹ä¸šåŠ¡ç»„ä»¶çš„æ¸²æŸ“æ§åˆ¶ï¼Œå‡å°‘æ¸²æŸ“æ¬¡æ•°ï¼Œä»è€Œè¾¾åˆ°ä¼˜åŒ–æ€§èƒ½çš„æ•ˆæœã€‚å¦‚ä¸‹æ¡ˆä¾‹ï¼Œæˆ‘ä»¬æœŸæœ›å½“ä¸”ä»…å½“"),v("code",[e._v("num")]),e._v("æ”¹å˜çš„æ—¶å€™ï¼Œæ¸²æŸ“ç»„ä»¶ï¼Œä½†æ˜¯ä¸å½±å“æ¥æ”¶çš„"),v("code",[e._v("props")]),e._v("ã€‚æˆ‘ä»¬åº”è¯¥è¿™æ ·å†™æˆ‘ä»¬çš„"),v("code",[e._v("HOC")]),e._v("ã€‚")]),e._v(" "),v("ul",[v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li")]),e._v(" "),v("div",{staticClass:"language- extra-class"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[e._v("function HOC (Component){     return function renderWrapComponent(props){       const { num } = props       const RenderElement = useMemo(() =>  <Component {...props}  /> ,[ num ])       return RenderElement     }}class Index extends React.Component{  render(){     console.log(`å½“å‰ç»„ä»¶æ˜¯å¦æ¸²æŸ“`,this.props)     return <div>hello,world, my name is alien </div>  }}const IndexHoc = HOC(Index)\nexport default ()=> {    const [ num ,setNumber ] = useState(0)    const [ num1 ,setNumber1 ] = useState(0)    const [ num2 ,setNumber2 ] = useState(0)    return <div>        <IndexHoc  num={ num } num1={num1} num2={ num2 }  />        <button onClick={() => setNumber(num + 1) } >num++</button>        <button onClick={() => setNumber1(num1 + 1) } >num1++</button>        <button onClick={() => setNumber2(num2 + 1) } >num2++</button>    </div>}\n")])])]),v("p",[v("strong",[e._v("æ•ˆæœï¼š")])]),e._v(" "),v("p",[v("img",{attrs:{src:"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==",alt:"å›¾ç‰‡"}})]),e._v(" "),v("p",[e._v("å¦‚å›¾æ‰€ç¤º,å½“æˆ‘ä»¬åªæœ‰ç‚¹å‡» "),v("code",[e._v("num++")]),e._v("æ—¶å€™ï¼Œæ‰é‡æ–°æ¸²æŸ“å­ç»„ä»¶ï¼Œç‚¹å‡»å…¶ä»–æŒ‰é’®ï¼Œåªæ˜¯è´Ÿè´£ä¼ é€’äº†"),v("code",[e._v("props")]),e._v(",è¾¾åˆ°äº†æœŸæœ›çš„æ•ˆæœã€‚")]),e._v(" "),v("h4",{attrs:{id:"_2-è¿›é˜¶-å®šåˆ¶åŒ–æ¸²æŸ“æµ"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_2-è¿›é˜¶-å®šåˆ¶åŒ–æ¸²æŸ“æµ"}},[e._v("#")]),e._v(" â‘¡ è¿›é˜¶ï¼šå®šåˆ¶åŒ–æ¸²æŸ“æµ")]),e._v(" "),v("p",[e._v("æ€è€ƒï¼šğŸ¤”ä¸Šè¿°çš„æ¡ˆä¾‹åªæ˜¯ä»‹ç»äº†åŸç†ï¼Œåœ¨å®é™…é¡¹ç›®ä¸­ï¼Œæ˜¯é‡åŒ–ç”Ÿäº§ä¸äº†çš„ï¼ŒåŸå› æ˜¯ï¼Œæˆ‘ä»¬éœ€è¦é’ˆå¯¹ä¸åŒ"),v("code",[e._v("props")]),e._v("å˜åŒ–ï¼Œå†™ä¸åŒçš„"),v("code",[e._v("HOC")]),e._v("ç»„ä»¶ï¼Œè¿™æ ·æ ¹æœ¬èµ·ä¸äº†"),v("code",[e._v("Hoc")]),e._v("çœŸæ­£çš„ç”¨é€”ï¼Œä¹Ÿå°±æ˜¯"),v("code",[e._v("HOC")]),e._v("äº§ç”Ÿçš„åˆè¡·ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦å¯¹ä¸Šè¿°"),v("code",[e._v("hoc")]),e._v("è¿›è¡Œæ”¹é€ å‡çº§ï¼Œæ˜¯ç»„ä»¶å¯ä»¥æ ¹æ®å®šåˆ¶åŒ–æ–¹å‘ï¼Œå»æ¸²æŸ“ç»„ä»¶ã€‚ä¹Ÿå°±æ˜¯"),v("code",[e._v("Hoc")]),e._v("ç”Ÿæˆçš„æ—¶å€™ï¼Œå·²ç»æŒ‰ç…§æŸç§å¥‘çº¦å»æ‰§è¡Œæ¸²æŸ“ã€‚")]),e._v(" "),v("ul",[v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li")]),e._v(" "),v("div",{staticClass:"language- extra-class"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[e._v("function HOC (rule){     return function (Component){        return function renderWrapComponent(props){          const dep = rule(props)          const RenderElement = useMemo(() =>  <Component {...props}  /> ,[ dep ])          return RenderElement        }     }}/* åªæœ‰ props ä¸­ num å˜åŒ– ï¼Œæ¸²æŸ“ç»„ä»¶  */@HOC( (props)=> props['num'])class IndexHoc extends React.Component{  render(){     console.log(`ç»„ä»¶ä¸€æ¸²æŸ“`,this.props)     return <div> ç»„ä»¶ä¸€ ï¼šhello,world </div>  }}\n/* åªæœ‰ props ä¸­ num1 å˜åŒ– ï¼Œæ¸²æŸ“ç»„ä»¶  */@HOC((props)=> props['num1'])class IndexHoc1 extends React.Component{  render(){     console.log(`ç»„ä»¶äºŒæ¸²æŸ“`,this.props)     return <div> ç»„ä»¶äºŒ ï¼šmy name is alien </div>  }}export default ()=> {    const [ num ,setNumber ] = useState(0)    const [ num1 ,setNumber1 ] = useState(0)    const [ num2 ,setNumber2 ] = useState(0)    return <div>        <IndexHoc  num={ num } num1={num1} num2={ num2 }  />        <IndexHoc1  num={ num } num1={num1} num2={ num2 }  />        <button onClick={() => setNumber(num + 1) } >num++</button>        <button onClick={() => setNumber1(num1 + 1) } >num1++</button>        <button onClick={() => setNumber2(num2 + 1) } >num2++</button>    </div>}\n")])])]),v("p",[v("strong",[e._v("æ•ˆæœ")])]),e._v(" "),v("p",[v("img",{attrs:{src:"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==",alt:"å›¾ç‰‡"}})]),e._v(" "),v("p",[e._v("å®Œç¾å®ç°äº†æ•ˆæœã€‚è¿™ç”¨é«˜é˜¶ç»„ä»¶æ¨¡å¼ï¼Œå¯ä»¥çµæ´»æ§åˆ¶"),v("code",[e._v("React")]),e._v("ç»„ä»¶å±‚é¢ä¸Šçš„ï¼Œ"),v("strong",[v("code",[e._v("props")]),e._v("æ•°æ®æµ")]),e._v("å’Œ"),v("strong",[e._v("æ›´æ–°æµ")]),e._v("ï¼Œä¼˜ç§€çš„é«˜é˜¶ç»„ä»¶æœ‰ "),v("code",[e._v("mobx")]),e._v(" ä¸­"),v("code",[e._v("observer")]),e._v(" ,"),v("code",[e._v("inject")]),e._v(" , "),v("code",[e._v("react-redux")]),e._v("ä¸­çš„"),v("code",[e._v("connect")]),e._v(",æ„Ÿå…´è¶£çš„åŒå­¦ï¼Œå¯ä»¥æŠ½æ—¶é—´ç ”ç©¶ä¸€ä¸‹ã€‚")]),e._v(" "),v("h2",{attrs:{id:"_3-èµ‹èƒ½ç»„ä»¶"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_3-èµ‹èƒ½ç»„ä»¶"}},[e._v("#")]),e._v(" 3 èµ‹èƒ½ç»„ä»¶")]),e._v(" "),v("p",[e._v("é«˜é˜¶ç»„ä»¶é™¤äº†ä¸Šè¿°ä¸¤ç§åŠŸèƒ½ä¹‹å¤–ï¼Œè¿˜å¯ä»¥èµ‹èƒ½ç»„ä»¶ï¼Œæ¯”å¦‚åŠ ä¸€äº›"),v("strong",[e._v("é¢å¤–"),v("code",[e._v("ç”Ÿå‘½å‘¨æœŸ")])]),e._v("ï¼Œ"),v("strong",[e._v("åŠ«æŒäº‹ä»¶")]),e._v("ï¼Œ"),v("strong",[e._v("ç›‘æ§æ—¥å¿—")]),e._v("ç­‰ç­‰ã€‚")]),e._v(" "),v("h3",{attrs:{id:"_3-1-åŠ«æŒåŸå‹é“¾-åŠ«æŒç”Ÿå‘½å‘¨æœŸ-äº‹ä»¶å‡½æ•°"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-åŠ«æŒåŸå‹é“¾-åŠ«æŒç”Ÿå‘½å‘¨æœŸ-äº‹ä»¶å‡½æ•°"}},[e._v("#")]),e._v(" 3.1 åŠ«æŒåŸå‹é“¾-åŠ«æŒç”Ÿå‘½å‘¨æœŸï¼Œäº‹ä»¶å‡½æ•°")]),e._v(" "),v("h4",{attrs:{id:"_1-å±æ€§ä»£ç†å®ç°"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_1-å±æ€§ä»£ç†å®ç°"}},[e._v("#")]),e._v(" â‘  å±æ€§ä»£ç†å®ç°")]),e._v(" "),v("ul",[v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li")]),e._v(" "),v("div",{staticClass:"language- extra-class"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[e._v("function HOC (Component){  const proDidMount = Component.prototype.componentDidMount   Component.prototype.componentDidMount = function(){     console.log('åŠ«æŒç”Ÿå‘½å‘¨æœŸï¼šcomponentDidMount')     proDidMount.call(this)  }  return class wrapComponent extends React.Component{      render(){        return <Component {...this.props}  />      }  }}@HOCclass Index extends React.Component{   componentDidMount(){     console.log('â€”â€”â€”didMountedâ€”â€”â€”')   }   render(){     return <div>hello,world</div>   }}\n")])])]),v("p",[v("strong",[e._v("æ•ˆæœ")])]),e._v(" "),v("p",[v("img",{attrs:{src:"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==",alt:"å›¾ç‰‡"}})]),e._v(" "),v("h4",{attrs:{id:"_2-åå‘ç»§æ‰¿å®ç°"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_2-åå‘ç»§æ‰¿å®ç°"}},[e._v("#")]),e._v(" â‘¡ åå‘ç»§æ‰¿å®ç°")]),e._v(" "),v("p",[e._v("åå‘ç»§æ‰¿ï¼Œå› ä¸ºåœ¨ç»§æ‰¿åŸæœ‰ç»„ä»¶çš„åŸºç¡€ä¸Šï¼Œå¯ä»¥å¯¹åŸæœ‰ç»„ä»¶çš„"),v("strong",[e._v("ç”Ÿå‘½å‘¨æœŸ")]),e._v("æˆ–"),v("strong",[e._v("äº‹ä»¶")]),e._v("è¿›è¡ŒåŠ«æŒï¼Œç”šè‡³æ˜¯æ›¿æ¢ã€‚")]),e._v(" "),v("ul",[v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li")]),e._v(" "),v("div",{staticClass:"language- extra-class"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[e._v("function HOC (Component){  const didMount = Component.prototype.componentDidMount  return class wrapComponent extends Component{      componentDidMount(){        console.log('------åŠ«æŒç”Ÿå‘½å‘¨æœŸ------')        if (didMount) {           didMount.apply(this) /* æ³¨æ„ `this` æŒ‡å‘é—®é¢˜ã€‚*/        }      }      render(){        return super.render()      }  }}\n@HOCclass Index extends React.Component{   componentDidMount(){     console.log('â€”â€”â€”didMountedâ€”â€”â€”')   }   render(){     return <div>hello,world</div>   }}\n")])])]),v("h3",{attrs:{id:"_3-2-äº‹ä»¶ç›‘æ§"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-äº‹ä»¶ç›‘æ§"}},[e._v("#")]),e._v(" 3.2 äº‹ä»¶ç›‘æ§")]),e._v(" "),v("p",[v("code",[e._v("HOC")]),e._v("è¿˜å¯ä»¥å¯¹åŸæœ‰ç»„ä»¶è¿›è¡Œç›‘æ§ã€‚æ¯”å¦‚å¯¹ä¸€äº›"),v("code",[e._v("äº‹ä»¶ç›‘æ§")]),e._v("ï¼Œ"),v("code",[e._v("é”™è¯¯ç›‘æ§")]),e._v("ï¼Œ"),v("code",[e._v("äº‹ä»¶ç›‘å¬")]),e._v("ç­‰ä¸€ç³»åˆ—æ“ä½œã€‚")]),e._v(" "),v("h4",{attrs:{id:"_1-ç»„ä»¶å†…çš„äº‹ä»¶ç›‘å¬"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_1-ç»„ä»¶å†…çš„äº‹ä»¶ç›‘å¬"}},[e._v("#")]),e._v(" â‘  ç»„ä»¶å†…çš„äº‹ä»¶ç›‘å¬")]),e._v(" "),v("p",[e._v("æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åšä¸€ä¸ª"),v("code",[e._v("HOC")]),e._v(",åªå¯¹ç»„ä»¶å†…çš„ç‚¹å‡»äº‹ä»¶åšä¸€ä¸ªç›‘å¬æ•ˆæœã€‚")]),e._v(" "),v("ul",[v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li")]),e._v(" "),v("div",{staticClass:"language- extra-class"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[e._v("function ClickHoc (Component){  return  function Wrap(props){    const dom = useRef(null)    useEffect(()=>{     const handerClick = () => console.log('å‘ç”Ÿç‚¹å‡»äº‹ä»¶')      dom.current.addEventListener('click',handerClick)     return () => dom.current.removeEventListener('click',handerClick)    },[])    return  <div ref={dom}  ><Component  {...props} /></div>  }}\n@ClickHocclass Index extends React.Component{   render(){     return <div  className='index'  >       <p>helloï¼Œworld</p>       <button>ç»„ä»¶å†…éƒ¨ç‚¹å‡»</button>    </div>   }}export default ()=>{  return <div className='box'  >     <Index />     <button>ç»„ä»¶å¤–éƒ¨ç‚¹å‡»</button>  </div>}\n")])])]),v("p",[v("strong",[e._v("æ•ˆæœ")])]),e._v(" "),v("p",[v("img",{attrs:{src:"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==",alt:"å›¾ç‰‡"}})]),e._v(" "),v("h3",{attrs:{id:"_3-refåŠ©åŠ›æ“æ§ç»„ä»¶å®ä¾‹"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_3-refåŠ©åŠ›æ“æ§ç»„ä»¶å®ä¾‹"}},[e._v("#")]),e._v(" 3 refåŠ©åŠ›æ“æ§ç»„ä»¶å®ä¾‹")]),e._v(" "),v("p",[e._v("å¯¹äºå±æ€§ä»£ç†æˆ‘ä»¬è™½ç„¶ä¸èƒ½ç›´æ¥è·å–ç»„ä»¶å†…çš„çŠ¶æ€ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥é€šè¿‡"),v("code",[e._v("ref")]),e._v("è·å–ç»„ä»¶å®ä¾‹,è·å–åˆ°ç»„ä»¶å®ä¾‹ï¼Œå°±å¯ä»¥è·å–ç»„ä»¶çš„ä¸€äº›çŠ¶æ€ï¼Œæˆ–æ˜¯æ‰‹åŠ¨è§¦å‘ä¸€äº›äº‹ä»¶ï¼Œè¿›ä¸€æ­¥å¼ºåŒ–ç»„ä»¶ï¼Œä½†æ˜¯æ³¨æ„çš„æ˜¯ï¼š"),v("code",[e._v("class")]),e._v("å£°æ˜çš„æœ‰çŠ¶æ€ç»„ä»¶æ‰æœ‰å®ä¾‹ï¼Œ"),v("code",[e._v("function")]),e._v("å£°æ˜çš„æ— çŠ¶æ€ç»„ä»¶ä¸å­˜åœ¨å®ä¾‹ã€‚")]),e._v(" "),v("h4",{attrs:{id:"_1-å±æ€§ä»£ç†-æ·»åŠ é¢å¤–ç”Ÿå‘½å‘¨æœŸ"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_1-å±æ€§ä»£ç†-æ·»åŠ é¢å¤–ç”Ÿå‘½å‘¨æœŸ"}},[e._v("#")]),e._v(" â‘  å±æ€§ä»£ç†-æ·»åŠ é¢å¤–ç”Ÿå‘½å‘¨æœŸ")]),e._v(" "),v("p",[e._v("æˆ‘ä»¬å¯ä»¥é’ˆå¯¹æŸä¸€ç§æƒ…å†µ, ç»™ç»„ä»¶å¢åŠ é¢å¤–çš„ç”Ÿå‘½å‘¨æœŸï¼Œæˆ‘åšäº†ä¸€ä¸ªç®€å•çš„"),v("code",[e._v("demo")]),e._v("ï¼Œç›‘å¬"),v("code",[e._v("number")]),e._v("æ”¹å˜ï¼Œå¦‚æœ"),v("code",[e._v("number")]),e._v("æ”¹å˜ï¼Œå°±è‡ªåŠ¨è§¦å‘ç»„ä»¶çš„ç›‘å¬å‡½æ•°"),v("code",[e._v("handerNumberChange")]),e._v("ã€‚å…·ä½“å†™æ³•å¦‚ä¸‹")]),e._v(" "),v("ul",[v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li")]),e._v(" "),v("div",{staticClass:"language- extra-class"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[e._v("function Hoc(Component){  return class WrapComponent extends React.Component{      constructor(){        super()        this.node = null      }      UNSAFE_componentWillReceiveProps(nextprops){          if(nextprops.number !== this.props.number ){            this.node.handerNumberChange  &&  this.node.handerNumberChange.call(this.node)          }      }      render(){        return <Component {...this.props} ref={(node) => this.node = node }  />      }  }}@Hocclass Index extends React.Component{  handerNumberChange(){      /* ç›‘å¬ number æ”¹å˜ */  }  render(){    return <div>hello,world</div>  }}\n")])])]),v("p",[e._v("è¿™ç§å†™æ³•æœ‰ç‚¹ä¸å°½äººæ„ï¼Œå¤§å®¶ä¸è¦ç€æ€¥ï¼Œåœ¨ç¬¬å››éƒ¨åˆ†ï¼Œæºç å®æˆ˜ä¸­ï¼Œæˆ‘ä¼šä»‹ç»ä¸€ç§æ›´å¥½çš„åœºæ™¯ã€‚æ–¹ä¾¿å¤§å®¶ç†è§£"),v("code",[e._v("Hoc")]),e._v("å¯¹åŸæœ‰ç»„ä»¶çš„èµ‹èƒ½ã€‚")]),e._v(" "),v("h2",{attrs:{id:"_4-æ€»ç»“"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_4-æ€»ç»“"}},[e._v("#")]),e._v(" 4 æ€»ç»“")]),e._v(" "),v("p",[e._v("ä¸Šé¢æˆ‘åˆ†åˆ«æŒ‰ç…§"),v("code",[e._v("hoc")]),e._v("ä¸»è¦åŠŸèƒ½ï¼Œ"),v("strong",[e._v("å¼ºåŒ–props")]),e._v(" ï¼Œ "),v("strong",[e._v("æ§åˆ¶æ¸²æŸ“")]),e._v(" ï¼Œ"),v("strong",[e._v("èµ‹èƒ½ç»„ä»¶")]),e._v(" ä¸‰ä¸ªæ–¹å‘å¯¹"),v("code",[e._v("HOC")]),e._v("ç¼–å†™åšäº†ä¸€ä¸ªè¯¦ç»†ä»‹ç»ï¼Œå’Œåº”ç”¨åœºæ™¯çš„ä»‹ç»ï¼Œç›®çš„"),v("strong",[e._v("è®©å¤§å®¶åœ¨ç†è§£é«˜é˜¶ç»„ä»¶çš„æ—¶å€™ï¼Œæ›´æ˜ç™½ä»€ä¹ˆæ—¶å€™ä¼šç”¨åˆ°ï¼Ÿ,æ€ä¹ˆæ ·å»å†™ï¼Ÿ`")]),e._v(" é‡Œé¢æ¶µç›–çš„çŸ¥è¯†ç‚¹æˆ‘æ€»ä¸€ä¸ªæ€»ç»“ã€‚")]),e._v(" "),v("p",[e._v("å¯¹äºå±æ€§ä»£ç†HOCï¼Œæˆ‘ä»¬å¯ä»¥ï¼š")]),e._v(" "),v("ul",[v("li",[e._v("å¼ºåŒ–props & æŠ½ç¦»stateã€‚")]),e._v(" "),v("li",[e._v("æ¡ä»¶æ¸²æŸ“ï¼Œæ§åˆ¶æ¸²æŸ“ï¼Œåˆ†ç‰‡æ¸²æŸ“ï¼Œæ‡’åŠ è½½ã€‚")]),e._v(" "),v("li",[e._v("åŠ«æŒäº‹ä»¶å’Œç”Ÿå‘½å‘¨æœŸ")]),e._v(" "),v("li",[e._v("refæ§åˆ¶ç»„ä»¶å®ä¾‹")]),e._v(" "),v("li",[e._v("æ·»åŠ äº‹ä»¶ç›‘å¬å™¨ï¼Œæ—¥å¿—")])]),e._v(" "),v("p",[e._v("å¯¹äºåå‘ä»£ç†çš„HOC,æˆ‘ä»¬å¯ä»¥ï¼š")]),e._v(" "),v("ul",[v("li",[e._v("åŠ«æŒæ¸²æŸ“ï¼Œæ“çºµæ¸²æŸ“æ ‘")]),e._v(" "),v("li",[e._v("æ§åˆ¶/æ›¿æ¢ç”Ÿå‘½å‘¨æœŸï¼Œç›´æ¥è·å–ç»„ä»¶çŠ¶æ€ï¼Œç»‘å®šäº‹ä»¶ã€‚")])]),e._v(" "),v("p",[e._v("æ¯ä¸ªåº”ç”¨åœºæ™¯ï¼Œæˆ‘éƒ½ä¸¾äº†ä¾‹å­ğŸŒ°ğŸŒ°ï¼Œå¤§å®¶å¯ä»¥ç»“åˆä¾‹å­æ·±å…¥äº†è§£ä¸€ä¸‹å…¶åŸç†å’Œç”¨é€”ã€‚")]),e._v(" "),v("h1",{attrs:{id:"å››-é«˜é˜¶ç»„ä»¶æºç çº§å®è·µ"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#å››-é«˜é˜¶ç»„ä»¶æºç çº§å®è·µ"}},[e._v("#")]),e._v(" å›› é«˜é˜¶ç»„ä»¶æºç çº§å®è·µ")]),e._v(" "),v("p",[v("code",[e._v("hoc")]),e._v("çš„åº”ç”¨åœºæ™¯æœ‰å¾ˆå¤šï¼Œä¹Ÿæœ‰å¾ˆå¤šå¥½çš„å¼€æºé¡¹ç›®ï¼Œä¾›æˆ‘ä»¬å­¦ä¹ å’Œå‚è€ƒï¼Œæ¥ä¸‹æ¥æˆ‘çœŸå¯¹ä¸‰ä¸ªæ–¹å‘ä¸Šçš„åŠŸèƒ½ç”¨é€”ï¼Œåˆ†åˆ«ä»æºç è§’åº¦è§£æ"),v("code",[e._v("HOC")]),e._v("çš„ç”¨é€”ã€‚")]),e._v(" "),v("h2",{attrs:{id:"_1-å¼ºåŒ–prop-withroute"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_1-å¼ºåŒ–prop-withroute"}},[e._v("#")]),e._v(" 1 å¼ºåŒ–prop- withRoute")]),e._v(" "),v("p",[e._v("ç”¨è¿‡"),v("code",[e._v("withRoute")]),e._v("çš„åŒå­¦ï¼Œéƒ½æ˜ç™½å…¶ç”¨é€”ï¼Œ"),v("code",[e._v("withRoute")]),e._v("ç”¨é€”å°±æ˜¯ï¼Œå¯¹äºæ²¡æœ‰è¢«"),v("code",[e._v("Route")]),e._v("åŒ…è£¹çš„ç»„ä»¶ï¼Œç»™æ·»åŠ "),v("code",[e._v("history")]),e._v("å¯¹è±¡ç­‰å’Œè·¯ç”±ç›¸å…³çš„çŠ¶æ€ï¼Œæ–¹ä¾¿æˆ‘ä»¬åœ¨ä»»æ„ç»„ä»¶ä¸­ï¼Œéƒ½èƒ½å¤Ÿè·å–è·¯ç”±çŠ¶æ€ï¼Œè¿›è¡Œè·¯ç”±è·³è½¬ï¼Œè¿™ä¸ª"),v("code",[e._v("HOC")]),e._v("ç›®çš„å¾ˆæ¸…æ¥šï¼Œå°±æ˜¯å¼ºåŒ–"),v("code",[e._v("props")]),e._v(",æŠŠ"),v("code",[e._v("Router")]),e._v("ç›¸å…³çš„çŠ¶æ€éƒ½æ··å…¥åˆ°"),v("code",[e._v("props")]),e._v("ä¸­ï¼Œæˆ‘ä»¬çœ‹çœ‹å…·ä½“æ€ä¹ˆå®ç°çš„ã€‚")]),e._v(" "),v("ul",[v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li")]),e._v(" "),v("div",{staticClass:"language- extra-class"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[e._v("function withRouter(Component) {  const displayName = `withRouter(${Component.displayName || Component.name})`;  const C = props => {      /*  è·å– */    const { wrappedComponentRef, ...remainingProps } = props;    return (      <RouterContext.Consumer>        {context => {          return (            <Component              {...remainingProps}              {...context}              ref={wrappedComponentRef}            />          );        }}      </RouterContext.Consumer>    );  };\n  C.displayName = displayName;  C.WrappedComponent = Component;  /* ç»§æ‰¿é™æ€å±æ€§ */  return hoistStatics(C, Component);}\nexport default withRouter\n")])])]),v("p",[v("code",[e._v("withRoute")]),e._v("çš„æµç¨‹å®é™…å¾ˆç®€å•ï¼Œå°±æ˜¯å…ˆä»"),v("code",[e._v("props")]),e._v("åˆ†ç¦»å‡º"),v("code",[e._v("ref")]),e._v("å’Œ"),v("code",[e._v("props")]),e._v(",ç„¶åä»å­˜æ”¾æ•´ä¸ª"),v("code",[e._v("route")]),e._v("å¯¹è±¡ä¸Šä¸‹æ–‡"),v("code",[e._v("RouterContext")]),e._v("å–å‡º"),v("code",[e._v("route")]),e._v("å¯¹è±¡,ç„¶åæ··å…¥åˆ°åŸå§‹ç»„ä»¶çš„"),v("code",[e._v("props")]),e._v("ä¸­ï¼Œæœ€åç”¨"),v("code",[e._v("hoistStatics")]),e._v("ç»§æ‰¿é™æ€å±æ€§ã€‚è‡³äº"),v("code",[e._v("hoistStatics")]),e._v("æˆ‘ä»¬ç¨åä¼šè®²åˆ°ã€‚")]),e._v(" "),v("h2",{attrs:{id:"_2-æ§åˆ¶æ¸²æŸ“æ¡ˆä¾‹-connect"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_2-æ§åˆ¶æ¸²æŸ“æ¡ˆä¾‹-connect"}},[e._v("#")]),e._v(" 2 æ§åˆ¶æ¸²æŸ“æ¡ˆä¾‹ connect")]),e._v(" "),v("p",[e._v("ç”±äº"),v("code",[e._v("connect")]),e._v("æºç æ¯”è¾ƒé•¿å’Œéš¾ä»¥ç†è§£ï¼Œæ‰€ä»¥æˆ‘ä»¬æå–ç²¾é«“ï¼Œç²¾ç®€ç²¾ç®€å†ç²¾ç®€, æ€»ç»“çš„æ ¸å¿ƒåŠŸèƒ½å¦‚ä¸‹,"),v("code",[e._v("connect")]),e._v("çš„ä½œç”¨ä¹Ÿæœ‰"),v("code",[e._v("åˆå¹¶props")]),e._v("ï¼Œä½†æ˜¯æ›´é‡è¦çš„æ˜¯æ¥å—"),v("code",[e._v("state")]),e._v("ï¼Œæ¥æ§åˆ¶æ›´æ–°ç»„ä»¶ã€‚ä¸‹é¢è¿™ä¸ªä»£ç ä¸­ï¼Œä¸ºäº†æ–¹ä¾¿å¤§å®¶ç†è§£ï¼Œæˆ‘éƒ½ç»™ç®€åŒ–äº†ã€‚å¸Œæœ›å¤§å®¶èƒ½å¤Ÿç†è§£"),v("code",[e._v("hoc")]),e._v("å¦‚ä½•"),v("strong",[e._v("æ´¾å‘")]),e._v("å’Œ"),v("strong",[e._v("æ§åˆ¶")]),e._v("æ›´æ–°æµçš„ã€‚")]),e._v(" "),v("ul",[v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li")]),e._v(" "),v("div",{staticClass:"language- extra-class"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[e._v("import store from './redux/store'import { ReactReduxContext } from './Context'import { useContext } from 'react'function connect(mapStateToProps){   /* ç¬¬ä¸€å±‚ï¼šæ¥æ”¶è®¢é˜…stateå‡½æ•° */    return function wrapWithConnect (WrappedComponent){        /* ç¬¬äºŒå±‚ï¼šæ¥æ”¶åŸå§‹ç»„ä»¶ */        function ConnectFunction(props){            const [ , forceUpdate ] = useState(0)            const { reactReduxForwardedRef ,...wrapperProps } = props                        /* å–å‡ºContext */            const { store } = useContext(ReactReduxContext)\n            /* å¼ºåŒ–propsï¼šåˆå¹¶ store state å’Œ props  */            const trueComponentProps = useMemo(()=>{                  /* åªæœ‰propsæˆ–è€…è®¢é˜…çš„stateå˜åŒ–ï¼Œæ‰è¿”å›åˆå¹¶åçš„props */                 return selectorFactory(mapStateToProps(store.getState()),wrapperProps)             },[ store , wrapperProps ])\n            /* åªæœ‰ trueComponentProps æ”¹å˜æ—¶å€™,æ›´æ–°ç»„ä»¶ã€‚*/            const renderedWrappedComponent = useMemo(              () => (                <WrappedComponent                  {...trueComponentProps}                  ref={reactReduxForwardedRef}                />              ),              [reactReduxForwardedRef, WrappedComponent, trueComponentProps]            )            useEffect(()=>{              /* è®¢é˜…æ›´æ–° */               const checkUpdate = () => forceUpdate(new Date().getTime())               store.subscribe( checkUpdate )            },[ store ])            return renderedWrappedComponent        }        /* React.memo åŒ…è£¹  */        const Connect = React.memo(ConnectFunction)\n        /* å¤„ç†hoc,è·å–refé—®é¢˜ */          if(forwardRef){          const forwarded = React.forwardRef(function forwardConnectRef( props,ref) {            return <Connect {...props} reactReduxForwardedRef={ref} reactReduxForwardedRef={ref} />          })          return hoistStatics(forwarded, WrappedComponent)        }         /* ç»§æ‰¿é™æ€å±æ€§ */        return hoistStatics(Connect,WrappedComponent)    } }export default Index\n")])])]),v("p",[v("code",[e._v("connect")]),e._v(" æ¶‰åŠåˆ°çš„åŠŸèƒ½ç‚¹è¿˜çœŸä¸å°‘å‘¢ï¼Œé¦–å…ˆç¬¬ä¸€å±‚æ¥å—è®¢é˜…å‡½æ•°ï¼Œç¬¬äºŒå±‚æ¥æ”¶åŸå§‹ç»„ä»¶ï¼Œç„¶åç”¨"),v("code",[e._v("forwardRef")]),e._v("å¤„ç†"),v("code",[e._v("ref")]),e._v(",ç”¨"),v("code",[e._v("hoistStatics")]),e._v(" å¤„ç†é™æ€å±æ€§çš„ç»§æ‰¿ï¼Œåœ¨åŒ…è£…ç»„ä»¶å†…éƒ¨ï¼Œåˆå¹¶"),v("code",[e._v("props")]),e._v(","),v("code",[e._v("useMemo")]),e._v("ç¼“å­˜åŸå§‹ç»„ä»¶ï¼Œåªæœ‰åˆå¹¶åçš„"),v("code",[e._v("props")]),e._v("å‘ç”Ÿå˜åŒ–ï¼Œæ‰æ›´æ–°ç»„ä»¶ï¼Œç„¶ååœ¨"),v("code",[e._v("useEffect")]),e._v("å†…éƒ¨é€šè¿‡"),v("code",[e._v("store.subscribe()")]),e._v("è®¢é˜…æ›´æ–°ã€‚è¿™é‡Œçœç•¥äº†"),v("code",[e._v("Subscription")]),e._v("æ¦‚å¿µï¼ŒçœŸæ­£çš„"),v("code",[e._v("connect")]),e._v("ä¸­æœ‰ä¸€ä¸ª"),v("code",[e._v("Subscription")]),e._v("ä¸“é—¨è´Ÿè´£è®¢é˜…æ¶ˆæ¯ã€‚")]),e._v(" "),v("h2",{attrs:{id:"_3-èµ‹èƒ½ç»„ä»¶-ç¼“å­˜ç”Ÿå‘½å‘¨æœŸ-keepalivelifecycle"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_3-èµ‹èƒ½ç»„ä»¶-ç¼“å­˜ç”Ÿå‘½å‘¨æœŸ-keepalivelifecycle"}},[e._v("#")]),e._v(" 3 èµ‹èƒ½ç»„ä»¶-ç¼“å­˜ç”Ÿå‘½å‘¨æœŸ keepaliveLifeCycle")]),e._v(" "),v("p",[e._v("ä¹‹å‰ç¬”è€…å†™äº†ä¸€ä¸ª"),v("code",[e._v("react")]),e._v("ç¼“å­˜é¡µé¢çš„å¼€æºåº“"),v("code",[e._v("react-keepalive-router")]),e._v("ï¼Œå¯ä»¥å®ç°"),v("code",[e._v("vue")]),e._v("ä¸­ "),v("code",[e._v("keepalive")]),e._v(" + "),v("code",[e._v("router")]),e._v("åŠŸèƒ½ï¼Œæœ€åˆçš„ç‰ˆæœ¬æ²¡æœ‰ç¼“å­˜å‘¨æœŸçš„ï¼Œä½†æ˜¯åæ¥çƒ­å¿ƒè¯»è€…ï¼ŒæœŸæœ›åœ¨è¢«ç¼“å­˜çš„è·¯ç”±ç»„ä»¶ä¸­åŠ å…¥ç¼“å­˜å‘¨æœŸï¼Œç±»ä¼¼"),v("code",[e._v("activated")]),e._v("è¿™ç§çš„ï¼Œåæ¥ç»è¿‡æˆ‘çš„åˆ†ææ‰“ç®—ç”¨"),v("code",[e._v("HOC")]),e._v("æ¥å®ç°æ­¤åŠŸèƒ½ã€‚")]),e._v(" "),v("p",[e._v("äºæ˜¯ä¹"),v("code",[e._v("react-keepalive-router")]),e._v("åŠ å…¥äº†å…¨æ–°çš„é¡µé¢ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ "),v("code",[e._v("actived")]),e._v(" å’Œ "),v("code",[e._v("unActived")]),e._v(", "),v("code",[e._v("actived")]),e._v(" ä½œä¸ºç¼“å­˜è·¯ç”±ç»„ä»¶æ¿€æ´»æ—¶å€™ç”¨ï¼Œåˆå§‹åŒ–çš„æ—¶å€™ä¼šé»˜è®¤æ‰§è¡Œä¸€æ¬¡ , "),v("code",[e._v("unActived")]),e._v(" ä½œä¸ºè·¯ç”±ç»„ä»¶ç¼“å­˜å®Œæˆåè°ƒç”¨ã€‚ä½†æ˜¯ç”Ÿå‘½å‘¨æœŸéœ€è¦ç”¨ä¸€ä¸ª "),v("code",[e._v("HOC")]),e._v(" ç»„ä»¶"),v("code",[e._v("keepaliveLifeCycle")]),e._v(" åŒ…è£¹ã€‚")]),e._v(" "),v("p",[e._v("ä½¿ç”¨")]),e._v(" "),v("ul",[v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li")]),e._v(" "),v("div",{staticClass:"language- extra-class"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[e._v("import React   from 'react'import { keepaliveLifeCycle } from 'react-keepalive-router'\n@keepaliveLifeCycleclass index extends React.Component<any,any>{\n    state={        activedNumber:0,        unActivedNumber:0    }    actived(){        this.setState({            activedNumber:this.state.activedNumber + 1        })    }    unActived(){        this.setState({            unActivedNumber:this.state.unActivedNumber + 1        })    }    render(){        const { activedNumber , unActivedNumber } = this.state        return <div  style={{ marginTop :'50px' }}  >           <div> é¡µé¢ actived æ¬¡æ•°ï¼š{activedNumber} </div>           <div> é¡µé¢ unActived æ¬¡æ•°ï¼š{unActivedNumber} </div>        </div>    }}export default index\n")])])]),v("p",[e._v("**\n**")]),e._v(" "),v("p",[v("strong",[e._v("åŸç†")])]),e._v(" "),v("ul",[v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li")]),e._v(" "),v("div",{staticClass:"language- extra-class"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[e._v("import {lifeCycles} from '../core/keeper'import hoistNonReactStatic from 'hoist-non-react-statics'function keepaliveLifeCycle(Component) {   class Hoc extends React.Component {    cur = null    handerLifeCycle = type => {      if (!this.cur) return      const lifeCycleFunc = this.cur[type]      isFuntion(lifeCycleFunc) && lifeCycleFunc.call(this.cur)    }    componentDidMount() {       const {cacheId} = this.props      cacheId && (lifeCycles[cacheId] = this.handerLifeCycle)    }    componentWillUnmount() {      const {cacheId} = this.props      delete lifeCycles[cacheId]    }     render=() => <Component {...this.props} ref={cur => (this.cur = cur)}/>  }  return hoistNonReactStatic(Hoc,Component)}\n")])])]),v("p",[v("code",[e._v("keepaliveLifeCycle")]),e._v(" çš„åŸç†å¾ˆç®€å•ï¼Œå°±æ˜¯é€šè¿‡"),v("code",[e._v("ref")]),e._v("æˆ–è·å– "),v("code",[e._v("class")]),e._v(" ç»„ä»¶çš„å®ä¾‹,åœ¨ "),v("code",[e._v("hoc")]),e._v(" åˆå§‹åŒ–æ—¶å€™"),v("strong",[e._v("è¿›è¡Œç”Ÿå‘½å‘¨æœŸçš„ç»‘å®š")]),e._v(", åœ¨ "),v("code",[e._v("hoc")]),e._v(" é”€æ¯é˜¶æ®µï¼Œå¯¹ç”Ÿå‘½å‘¨æœŸè¿›è¡Œè§£ç»‘, ç„¶åäº¤ç»™"),v("code",[e._v("keeper")]),e._v("ç»Ÿä¸€è°ƒåº¦ï¼Œ"),v("code",[e._v("keeper")]),e._v("é€šè¿‡è°ƒç”¨å®ä¾‹ä¸‹é¢çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Œæ¥å®ç°ç¼“å­˜ç”Ÿå‘½å‘¨æœŸåŠŸèƒ½çš„ã€‚")]),e._v(" "),v("h1",{attrs:{id:"äº”-é«˜é˜¶ç»„ä»¶çš„æ³¨æ„äº‹é¡¹"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#äº”-é«˜é˜¶ç»„ä»¶çš„æ³¨æ„äº‹é¡¹"}},[e._v("#")]),e._v(" äº” é«˜é˜¶ç»„ä»¶çš„æ³¨æ„äº‹é¡¹")]),e._v(" "),v("h2",{attrs:{id:"_1-è°¨æ…ä¿®æ”¹åŸå‹é“¾"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_1-è°¨æ…ä¿®æ”¹åŸå‹é“¾"}},[e._v("#")]),e._v(" 1 è°¨æ…ä¿®æ”¹åŸå‹é“¾")]),e._v(" "),v("ul",[v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li")]),e._v(" "),v("div",{staticClass:"language- extra-class"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[e._v("function HOC (Component){  const proDidMount = Component.prototype.componentDidMount   Component.prototype.componentDidMount = function(){     console.log('åŠ«æŒç”Ÿå‘½å‘¨æœŸï¼šcomponentDidMount')     proDidMount.call(this)  }  return  Component}\n")])])]),v("p",[e._v("è¿™æ ·åšä¼šäº§ç”Ÿä¸€äº›ä¸è‰¯åæœã€‚æ¯”å¦‚å¦‚æœä½ å†ç”¨å¦ä¸€ä¸ªåŒæ ·ä¼šä¿®æ”¹ "),v("code",[e._v("componentDidMount")]),e._v(" çš„ "),v("code",[e._v("HOC")]),e._v(" å¢å¼ºå®ƒï¼Œé‚£ä¹ˆå‰é¢çš„ "),v("code",[e._v("HOC")]),e._v(" å°±ä¼šå¤±æ•ˆï¼åŒæ—¶ï¼Œè¿™ä¸ª "),v("code",[e._v("HOC")]),e._v(" ä¹Ÿæ— æ³•åº”ç”¨äºæ²¡æœ‰ç”Ÿå‘½å‘¨æœŸçš„å‡½æ•°ç»„ä»¶ã€‚")]),e._v(" "),v("h2",{attrs:{id:"_2-ç»§æ‰¿é™æ€å±æ€§"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_2-ç»§æ‰¿é™æ€å±æ€§"}},[e._v("#")]),e._v(" 2 ç»§æ‰¿é™æ€å±æ€§")]),e._v(" "),v("p",[e._v("åœ¨ç”¨å±æ€§ä»£ç†çš„æ–¹å¼ç¼–å†™"),v("code",[e._v("HOC")]),e._v("çš„æ—¶å€™ï¼Œè¦æ³¨æ„çš„æ˜¯å°±æ˜¯ï¼Œé™æ€å±æ€§ä¸¢å¤±çš„é—®é¢˜ï¼Œå‰é¢æåˆ°äº†ï¼Œå¦‚æœä¸åšå¤„ç†ï¼Œé™æ€æ–¹æ³•å°±ä¼šå…¨éƒ¨ä¸¢å¤±ã€‚")]),e._v(" "),v("h3",{attrs:{id:"æ‰‹åŠ¨ç»§æ‰¿"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#æ‰‹åŠ¨ç»§æ‰¿"}},[e._v("#")]),e._v(" æ‰‹åŠ¨ç»§æ‰¿")]),e._v(" "),v("p",[e._v("æˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨å°†åŸå§‹ç»„ä»¶çš„é™æ€æ–¹æ³•"),v("code",[e._v("copy")]),e._v("åˆ° "),v("code",[e._v("hoc")]),e._v("ç»„ä»¶ä¸Šæ¥ï¼Œä½†å‰ææ˜¯å¿…é¡»å‡†ç¡®çŸ¥é“åº”è¯¥æ‹·è´å“ªäº›æ–¹æ³•ã€‚")]),e._v(" "),v("ul",[v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li")]),e._v(" "),v("div",{staticClass:"language- extra-class"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[e._v("function HOC(Component) {  class WrappedComponent extends React.Component {      /*...*/  }  // å¿…é¡»å‡†ç¡®çŸ¥é“åº”è¯¥æ‹·è´å“ªäº›æ–¹æ³•   WrappedComponent.staticMethod = Component.staticMethod  return WrappedComponent}\n")])])]),v("h3",{attrs:{id:"å¼•å…¥ç¬¬ä¸‰æ–¹åº“"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#å¼•å…¥ç¬¬ä¸‰æ–¹åº“"}},[e._v("#")]),e._v(" å¼•å…¥ç¬¬ä¸‰æ–¹åº“")]),e._v(" "),v("p",[e._v("è¿™æ ·æ¯ä¸ªé™æ€æ–¹æ³•éƒ½ç»‘å®šä¼šå¾ˆç´¯ï¼Œå°¤å…¶å¯¹äºå¼€æºçš„"),v("code",[e._v("hoc")]),e._v("ï¼Œ"),v("strong",[e._v("å¯¹åŸç”Ÿç»„ä»¶çš„é™æ€æ–¹æ³•æ˜¯æœªçŸ¥çš„")]),e._v(",æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ "),v("code",[e._v("hoist-non-react-statics")]),e._v(" è‡ªåŠ¨æ‹·è´æ‰€æœ‰çš„é™æ€æ–¹æ³•:")]),e._v(" "),v("ul",[v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li")]),e._v(" "),v("div",{staticClass:"language- extra-class"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[e._v("import hoistNonReactStatic from 'hoist-non-react-statics'function HOC(Component) {  class WrappedComponent extends React.Component {      /*...*/  }  hoistNonReactStatic(WrappedComponent,Component)  return WrappedComponent}\n")])])]),v("h2",{attrs:{id:"_3-è·¨å±‚çº§æ•è·ref"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_3-è·¨å±‚çº§æ•è·ref"}},[e._v("#")]),e._v(" 3 è·¨å±‚çº§æ•è·ref")]),e._v(" "),v("p",[e._v("é«˜é˜¶ç»„ä»¶çš„çº¦å®šæ˜¯å°†æ‰€æœ‰ "),v("code",[e._v("props")]),e._v(" ä¼ é€’ç»™è¢«åŒ…è£…ç»„ä»¶ï¼Œä½†è¿™å¯¹äº "),v("code",[e._v("refs")]),e._v(" å¹¶ä¸é€‚ç”¨ã€‚é‚£æ˜¯å› ä¸º "),v("code",[e._v("ref")]),e._v(" å®é™…ä¸Šå¹¶ä¸æ˜¯ä¸€ä¸ª "),v("code",[e._v("prop")]),e._v(" - å°±åƒ "),v("code",[e._v("key")]),e._v(" ä¸€æ ·ï¼Œå®ƒæ˜¯ç”± "),v("code",[e._v("React")]),e._v(" ä¸“é—¨å¤„ç†çš„ã€‚å¦‚æœå°† "),v("code",[e._v("ref")]),e._v(" æ·»åŠ åˆ° "),v("code",[e._v("HOC")]),e._v(" çš„è¿”å›ç»„ä»¶ä¸­ï¼Œåˆ™ "),v("code",[e._v("ref")]),e._v(" å¼•ç”¨æŒ‡å‘å®¹å™¨ç»„ä»¶ï¼Œè€Œä¸æ˜¯è¢«åŒ…è£…ç»„ä»¶ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡"),v("code",[e._v("forwardRef")]),e._v("æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚")]),e._v(" "),v("ul",[v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li")]),e._v(" "),v("div",{staticClass:"language- extra-class"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[e._v("/** *  * @param {*} Component åŸå§‹ç»„ä»¶ * @param {*} isRef  æ˜¯å¦å¼€å¯refæ¨¡å¼ */function HOC(Component,isRef){  class Wrap extends React.Component{     render(){        const { forwardedRef ,...otherprops  } = this.props        return <Component ref={forwardedRef}  {...otherprops}  />     }  }    if(isRef){      return  React.forwardRef((props,ref)=> <Wrap forwardedRef={ref} {...props} /> )    }    return Wrap}\nclass Index extends React.Component{  componentDidMount(){      console.log(666)  }  render(){    return <div>hello,world</div>  }}\nconst HocIndex =  HOC(Index,true)\nexport default ()=>{  const node = useRef(null)  useEffect(()=>{     /* å°±å¯ä»¥è·¨å±‚çº§ï¼Œæ•è·åˆ° Index ç»„ä»¶çš„å®ä¾‹äº† */     console.log(node.current.componentDidMount)  },[])  return <div><HocIndex ref={node}  /></div>}\n")])])]),v("p",[v("strong",[e._v("æ‰“å°ç»“æœï¼š")])]),e._v(" "),v("p",[v("img",{attrs:{src:"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==",alt:"å›¾ç‰‡"}})]),e._v(" "),v("p",[e._v("å¦‚ä¸Šå°±è§£å†³äº†,"),v("code",[e._v("HOC")]),e._v("è·¨å±‚çº§æ•è·"),v("code",[e._v("ref")]),e._v("çš„é—®é¢˜ã€‚")]),e._v(" "),v("h2",{attrs:{id:"_4-renderä¸­ä¸è¦å£°æ˜hoc"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_4-renderä¸­ä¸è¦å£°æ˜hoc"}},[e._v("#")]),e._v(" 4 renderä¸­ä¸è¦å£°æ˜HOC")]),e._v(" "),v("p",[e._v("ğŸ™…é”™è¯¯å†™æ³•ï¼š")]),e._v(" "),v("ul",[v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li")]),e._v(" "),v("div",{staticClass:"language- extra-class"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[e._v("class Index extends React.Component{  render(){     const WrapHome = HOC(Home)     return <WrapHome />  }}\n")])])]),v("p",[e._v("å¦‚æœè¿™ä¹ˆå†™ï¼Œä¼šé€ æˆä¸€ä¸ªæå¤§çš„é—®é¢˜ï¼Œå› ä¸ºæ¯ä¸€æ¬¡"),v("code",[e._v("HOC")]),e._v("éƒ½ä¼šè¿”å›ä¸€ä¸ªæ–°çš„"),v("code",[e._v("WrapHome")]),e._v(","),v("code",[e._v("react diff")]),e._v("ä¼šåˆ¤å®šä¸¤æ¬¡"),v("strong",[e._v("ä¸æ˜¯åŒä¸€ä¸ªç»„ä»¶")]),e._v("ï¼Œé‚£ä¹ˆæ¯æ¬¡"),v("code",[e._v("Index")]),e._v(" ç»„ä»¶ "),v("code",[e._v("render")]),e._v("è§¦å‘ï¼Œ"),v("code",[e._v("WrapHome")]),e._v("ï¼Œä¼šé‡æ–°æŒ‚è½½ï¼ŒçŠ¶æ€ä¼š"),v("strong",[e._v("å…¨éƒ½ä¸¢å¤±")]),e._v("ã€‚å¦‚æœæƒ³è¦åŠ¨æ€ç»‘å®š"),v("code",[e._v("HOC")]),e._v(",è¯·å‚è€ƒå¦‚ä¸‹æ–¹å¼ã€‚")]),e._v(" "),v("p",[e._v("ğŸ™†æ­£ç¡®å†™æ³•ï¼š")]),e._v(" "),v("ul",[v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li"),e._v(" "),v("li")]),e._v(" "),v("div",{staticClass:"language- extra-class"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[e._v("const WrapHome = HOC(Home)class index extends React.Component{  render(){     return <WrapHome />  }}\n")])])]),v("h1",{attrs:{id:"å…­-æ€»ç»“"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#å…­-æ€»ç»“"}},[e._v("#")]),e._v(" å…­ æ€»ç»“")]),e._v(" "),v("p",[e._v("æœ¬æ–‡ä»é«˜é˜¶ç»„ä»¶åŠŸèƒ½ä¸ºåˆ‡å…¥ç‚¹ï¼Œä»‹ç»äºŒç§ä¸åŒçš„é«˜é˜¶ç»„ä»¶å¦‚ä½•ç¼–å†™ï¼Œåº”ç”¨åœºæ™¯ï¼Œä»¥åŠå®è·µã€‚æ¶µç›–äº†å¤§éƒ¨åˆ†è€³ç†Ÿèƒ½è¯¦çš„å¼€æºé«˜é˜¶ç»„ä»¶çš„åº”ç”¨åœºæ™¯ï¼Œå¦‚æœä½ è§‰å¾—è¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¯å‘ï¼Œæœ€å¥½è¿˜æ˜¯æŒ‰ç…§æ–‡ç« ä¸­çš„"),v("code",[e._v("demo")]),e._v("ï¼Œè·Ÿç€æ•²ä¸€éï¼ŒåŠ æ·±å°è±¡ï¼ŒçŸ¥é“ä»€ä¹ˆåœºæ™¯ç”¨é«˜é˜¶ç»„ä»¶ï¼Œæ€ä¹ˆç”¨é«˜é˜¶ç»„ä»¶ã€‚")]),e._v(" "),v("p",[v("code",[e._v("å®è·µæ˜¯æ£€éªŒçœŸç†çš„å”¯ä¸€æ ‡å‡†")]),e._v("ï¼Œå¸Œæœ›å¤§å®¶èƒ½æŠŠé«˜é˜¶ç»„ä»¶"),v("code",[e._v("ç ")]),e._v("èµ·æ¥ï¼Œç”¨èµ·æ¥ã€‚")])])}),[],!1,null,null,null);t.default=i.exports}}]);